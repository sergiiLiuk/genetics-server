{"version":3,"sources":["webpack:///./node_modules/keypather/lib/error-messages/keypath-syntax.js","webpack:///./node_modules/mingo/operators/pipeline/skip.js","webpack:///./node_modules/mingo/query.js","webpack:///./node_modules/mingo/operators/expression/boolean/not.js","webpack:///./node_modules/mingo/index.js","webpack:///./node_modules/mingo/operators/expression/boolean/and.js","webpack:///./node_modules/ms/index.js","webpack:///./node_modules/mingo/operators/pipeline/replaceRoot.js","webpack:///./node_modules/keypather/get.js","webpack:///./node_modules/mingo/operators/pipeline/set.js","webpack:///./node_modules/keypather/lib/operations/get.js","webpack:///./node_modules/mingo/operators/query/array/index.js","webpack:///./node_modules/util/node_modules/inherits/inherits_browser.js","webpack:///./node_modules/mingo/operators/expression/comparison.js","webpack:///./node_modules/mingo/operators/pipeline/unwind.js","webpack:///./node_modules/mingo/operators/pipeline/out.js","webpack:///./src/views/Search.vue?c807","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack:///./src/imports/search.js","webpack:///./src/service/mingo/birth.js","webpack:///src/views/Search.vue","webpack:///./src/views/Search.vue?42b7","webpack:///./src/views/Search.vue?4247","webpack:///./node_modules/mingo/operators/_predicates.js","webpack:///./node_modules/util/util.js","webpack:///./node_modules/object-assign/index.js","webpack:///./node_modules/mingo/operators/pipeline/facet.js","webpack:///./node_modules/mingo/operators/query/logical/index.js","webpack:///./src/views/Search.vue?49bf","webpack:///./node_modules/101/defaults.js","webpack:///./node_modules/mingo/util.js","webpack:///./node_modules/core-js/modules/es.object.entries.js","webpack:///./node_modules/mingo/operators/query/logical/nor.js","webpack:///./node_modules/keypather/lib/keypath-reducer.js","webpack:///./node_modules/mingo/operators/query/evaluation/index.js","webpack:///./node_modules/101/is-boolean.js","webpack:///./node_modules/mingo/operators/expression/array/slice.js","webpack:///./node_modules/mingo/operators/expression/boolean/index.js","webpack:///./node_modules/mingo/operators/query/evaluation/regex.js","webpack:///./node_modules/mingo/operators/query/array/elemMatch.js","webpack:///./node_modules/mingo/operators/projection/elemMatch.js","webpack:///./node_modules/mingo/operators/pipeline/limit.js","webpack:///./node_modules/mingo/operators/query/logical/and.js","webpack:///./node_modules/mingo/operators/pipeline/bucketAuto.js","webpack:///./node_modules/101/is-object.js","webpack:///./node_modules/mingo/operators/query/evaluation/expr.js","webpack:///./node_modules/mingo/operators/pipeline/sort.js","webpack:///./node_modules/string-reduce/index.js","webpack:///./node_modules/mingo/operators/query/evaluation/mod.js","webpack:///./node_modules/mingo/operators/pipeline/bucket.js","webpack:///./node_modules/mingo/operators/pipeline/addFields.js","webpack:///./node_modules/mingo/operators/pipeline/sortByCount.js","webpack:///./node_modules/keypather/lib/error-messages/key-of-undefined.js","webpack:///./node_modules/escape-string-regexp/index.js","webpack:///./node_modules/mingo/operators/pipeline/project.js","webpack:///./node_modules/mingo/operators/query/index.js","webpack:///./node_modules/mingo/operators/pipeline/index.js","webpack:///./node_modules/keypather/lib/state-to-at-keypath.js","webpack:///./node_modules/mingo/operators/pipeline/group.js","webpack:///./node_modules/keypather/lib/key-to-string.js","webpack:///./node_modules/keypather/node_modules/debug/src/browser.js","webpack:///./node_modules/mingo/operators/projection/index.js","webpack:///./node_modules/101/exists.js","webpack:///./node_modules/mingo/core.js","webpack:///./node_modules/mingo/operators/query/element/index.js","webpack:///./node_modules/mingo/operators/query/array/size.js","webpack:///./node_modules/mingo/operators/pipeline/sample.js","webpack:///./node_modules/mingo/operators/pipeline/unset.js","webpack:///./node_modules/mingo/operators/query/element/exists.js","webpack:///./node_modules/mingo/lazy.js","webpack:///./node_modules/mingo/operators/projection/slice.js","webpack:///./node_modules/util/support/isBufferBrowser.js","webpack:///./node_modules/mingo/operators/pipeline/redact.js","webpack:///./node_modules/mingo/operators/query/comparison.js","webpack:///./node_modules/mingo/init/basic.js","webpack:///./node_modules/mingo/operators/query/element/type.js","webpack:///./node_modules/mingo/operators/query/logical/or.js","webpack:///./node_modules/mingo/operators/pipeline/match.js","webpack:///./node_modules/mingo/cursor.js","webpack:///./node_modules/mingo/operators/pipeline/replaceWith.js","webpack:///./node_modules/mingo/operators/query/array/all.js","webpack:///./node_modules/assert-err/index.js","webpack:///./node_modules/keypather/lib/normalized-keypath.js","webpack:///./node_modules/keypather/node_modules/debug/src/common.js","webpack:///./node_modules/assert/assert.js","webpack:///./node_modules/mingo/operators/pipeline/lookup.js","webpack:///./node_modules/mingo/operators/pipeline/count.js","webpack:///./node_modules/mingo/aggregator.js","webpack:///./node_modules/mingo/operators/expression/boolean/or.js","webpack:///./node_modules/mingo/operators/query/logical/not.js"],"names":["exists","module","exports","state","extra","i","character","keypath","charAt","replace","$skip","collection","expr","options","drop","Object","defineProperty","value","Query","core_1","cursor_1","util_1","criteria","this","__criteria","__options","makeOptions","__compiled","_compile","prototype","whereOperator","assert","isObject","_i","_a","entries","length","_b","field","_processOperator","inArray","isOperator","_c","_d","normalize","_e","operator","val","call","getOperator","OperatorType","QUERY","fn","push","test","obj","len","find","projection","_this","Cursor","x","remove","reduce","acc","$not","booleanExpr","ensureArray","computeValue","aggregate","Aggregator","aggregator_1","query_1","aggregator_2","enumerable","get","query_2","pipeline","run","default","$and","truthy","every","s","m","h","d","w","y","parse","str","String","match","exec","n","parseFloat","type","toLowerCase","fmtShort","ms","msAbs","Math","abs","round","fmtLong","plural","name","isPlural","isFinite","long","Error","JSON","stringify","$replaceRoot","map","newRoot","getOperation","keypathReducer","getKeypath","ctx","opts","$set","addFields_1","$addFields","undefinedErrMessage","key","force","TypeError","__createBinding","create","o","k","k2","undefined","__exportStar","p","hasOwnProperty","ctor","superCtor","super_","constructor","writable","configurable","TempCtor","$cmp","$ne","$lte","$lt","$gte","$gt","$eq","_predicates_1","args","createExpressionOperator","$unwind","lazy_1","isString","path","substr","includeArrayIndex","preserveNullAndEmptyArrays","format","Lazy","_loop_1","Iterator","tmp","next","done","wrapper","resolve","Array","cloneDeep","removeValue","item","setValue","isEmpty","state_1","$out","outputColl","collectionResolver","render","_vm","_h","$createElement","_self","attrs","staticClass","model","filters","callback","$$v","expression","birthPlaces","_l","header","text","settings","keys","paginationMap","on","$event","clean","_v","page","pageCount","$vuetify","breakpoint","style","maxHeight","siteSpaceHeight","staticStyle","_s","paginationEvent","itemsLength","ref","paginationPage","itemsPerPage","loading","filteredHeaders","filteredItems","scopedSlots","_u","proxy","staticRenderFns","_arrayWithHoles","arr","isArray","_iterableToArrayLimit","Symbol","iterator","_arr","_n","err","_arrayLikeToArray","arr2","_unsupportedIterableToArray","minLen","arrayLikeToArray","toString","slice","from","_nonIterableRest","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","_arrayWithoutHoles","_iterableToArray","iter","_nonIterableSpread","_toConsumableArray","arrayWithoutHoles","iterableToArray","nonIterableSpread","_createForOfIteratorHelper","allowArrayLike","it","F","e","f","normalCompletion","didErr","step","_e2","sortByKey","array","sort","a","b","split","j","search","list","fields","filter","sortKey","keywords","matches","keyword","getKeyPath","includes","numFilters","mingoFilter","data","res","query","birthPlace","mingo","all","columns","sortBy","descending","selectedPagination","results","components","assign","initSettings","initFilters","sideSpaceState","10","20","50","100","500","Всі","computed","headers","$store","birth","birthRecords","window","innerHeight","mounted","dispatch","methods","component","$type","$elemMatch","$size","$all","$exists","$regex","$mod","$nin","$in","createQueryOperator","pred","selector","unwrapArray","lhs","apply","isEqual","isNil","eq","bind","some","flatten","isNull","intersection","hashFunction","compare","matched","isNonBooleanOperator","indexOf","temp","BsonType","DOUBLE","DECIMAL","isNumber","JsType","STRING","OBJECT","ARRAY","UNDEFINED","BOOLEAN","BOOL","isBoolean","DATE","isDate","NULL","REGEXP","REGEX","isRegExp","INT","MIN_INT","MAX_INT","LONG","MIN_LONG","MAX_LONG","getType","getOwnPropertyDescriptors","descriptors","getOwnPropertyDescriptor","formatRegExp","objects","arguments","inspect","join","Number","_","deprecate","msg","process","noDeprecation","warned","deprecated","throwDeprecation","traceDeprecation","console","trace","error","debugEnviron","debugs","seen","stylize","stylizeNoColor","depth","colors","showHidden","_extend","isUndefined","customInspect","stylizeWithColor","formatValue","styleType","styles","arrayToHash","hash","forEach","idx","recurseTimes","isFunction","ret","primitive","formatPrimitive","visibleKeys","getOwnPropertyNames","isError","formatError","RegExp","Date","output","base","braces","toUTCString","formatArray","formatProperty","pop","reduceToSingleString","simple","l","desc","set","line","prev","cur","numLinesEst","ar","arg","isNullOrUndefined","isSymbol","re","objectToString","isPrimitive","pad","debuglog","NODE_DEBUG","toUpperCase","pid","isBuffer","months","timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","prop","log","inherits","origin","add","kCustomPromisifiedSymbol","callbackifyOnRejected","reason","cb","newReason","callbackify","original","callbackified","maybeCb","self","then","nextTick","rej","setPrototypeOf","getPrototypeOf","defineProperties","promisify","promiseResolve","promiseReject","promise","Promise","reject","custom","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","shouldUseNative","test1","test2","fromCharCode","order2","test3","letter","target","source","symbols","to","$facet","transform","objectMap","defaults","deep","reduceObject","traverse","filterMissing","resolveGraph","memoize","into","groupBy","hashCode","unique","union","merge","has","notInArray","isObjectLike","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","MISSING","DEFAULT_HASH_FUNC","encode","charCodeAt","code","JS_SIMPLE_TYPES","NUMBER","OBJECT_PROTOTYPE","OBJECT_TAG","OBJECT_TYPE_RE","condition","message","v","isNaN","proto","FUNCTION","objKeys","inputs","result","input","flipped","t","maxSize","max","maxResult","min","lookup","memo","indexes","xs","ys","filtered","flatten2","rhs","nativeType","ka","kb","tempKey","xs_1","toISOString","prefix","keyFn","comparator","sorted","groups","collection_1","index","MAX_ARRAY_PUSH","rest","ceil","begin","getValue","unwrap","resolve2","isText","subpath_1","preserveMissing","names","isIndex","hasNext","obj_1","splice","parseInt","item_1","elem","OPERATOR_NAME_PATTERN","$","$entries","stat","O","$nor","or_1","$or","escRE","debug","stringReduce","normalizedKeypath","syntaxErrMessage","keypatherReducer","operation","delimeter","overwritePrimitives","silent","dot","keyStartRegex","initialState","parentCtx","rootCtx","lastCharacter","keypathSplit","_normalizedKeypathCache","keyStart","keyEnd","insideBracket","insideBracketNumber","insideBracketString","quoteCharacter","createOperation","createdKeypaths","reducer","endFound","lastLastCharacter","closedBracket","substring","handleKey","nextCtx","$slice","skip","limit","$limit","take","queries","$bucketAuto","outputExpr","count","$sum","groupByExpr","bucketCount","buckets","ID_KEY","coll","approxBucketSize","computeValueOptimized","grouped","remaining","boundaries","bucketItems","lastBucket","values","_id","$expr","$sort","sortKeys","cmp","collationSpec","collation","locale","collationComparator","modifiers","sortedIndex","indexKeys","reverse","indexKeys_1","COLLATION_STRENGTH","1","2","3","spec","localeOpt","sensitivity","strength","caseFirst","numeric","numericOrdering","ignorePunctuation","alternate","caseLevel","collator","Intl","Collator","assertErr","string","reducerCallback","initialValue","startIndex","initialValuePassed","__spreadArrays","il","r","jl","$bucket","defaultKey","lower","upper","boundType","boundaries_1","each","findInsertIndex","boundKey","lo","hi","mid","newFields","newObj","newFields_1","newValue","$sortByCount","group_1","sort_1","newExpr","$group","keyToString","stateToAtKeypath","atKeypath","matchOperatorsRe","$project","expressionKeys","idOnlyExcluded","validateExpression","idKey","id","processObject","foundSlice","foundExclusion","dropKeys","subExpr","subExprObj_1","subExprKeys_1","PROJECTION","objPathGraph","expressionKeys_1","dropKeys_1","check","offset","partitions","size","_typeof","useColors","__nwjs","navigator","userAgent","document","documentElement","WebkitAppearance","firebug","exception","table","$1","formatArgs","namespace","humanize","diff","c","color","lastC","_console","save","namespaces","storage","setItem","removeItem","load","getItem","DEBUG","localstorage","localStorage","formatters","redact","addOperators","useOperators","OPERATORS","ACCUMULATOR","EXPRESSION","PIPELINE","validateOperators","operators","Function","cls","operatorFn","newOperators","op","wrapped","_loop_2","_f","_g","_loop_3","_j","_k","systemVariables","$$ROOT","root","$$CURRENT","$$REMOVE","redactVariables","$$KEEP","$$PRUNE","$$DESCEND","current","current_1","_loop_4","$sample","floor","random","$unset","project_1","doc","expr_1","isGenerator","dropItem","Action","DONE","createCallback","nextFn","iteratees","buffer","bufferIndex","storeResult","outer","innerDone","action","MAP","func","FILTER","TAKE","DROP","nextVal","__iteratees","__first","__done","__buf","src_1","data_1","size_1","index_1","__next","_validate","_push","predicate","first","slice_1","exprAsArray","copy","fill","readUInt8","$redact","booleanOperators","comparisonOperators","pipeline_1","projectionOperators","queryOperators","enableBasicOperators","$match","q","__predicateFn","__source","__projection","__operators","__result","__stack","_fetch","stream","modifier","$replaceWith","replaceRoot_1","esc","fileRE","__filename","createErrWithProps","props","Err","createInstance","stack","stackLines","notMatches","Class","setup","env","selectColor","createDebug","prevTime","enabled","_len","_key","curr","coerce","unshift","formatter","logFn","destroy","extend","init","instances","delimiter","enable","skips","instance","disable","objectAssign","global","Buffer","_isBuffer","util","hasOwn","pSlice","functionsHaveNames","pToString","isView","arrbuf","ArrayBuffer","DataView","ok","regex","getName","truncate","something","rawname","getMessage","actual","expected","fail","stackStartFunction","AssertionError","_deepEqual","strict","memos","getTime","multiline","lastIndex","ignoreCase","Float32Array","Float64Array","Uint8Array","actualIndex","objEquiv","isArguments","object","actualVisitedObjects","aIsArgs","bIsArgs","objectKeys","notDeepStrictEqual","expectedException","isPrototypeOf","_tryBlock","block","_throws","shouldThrow","userProvidedMessage","isUnwantedException","isUnexpectedException","generatedMessage","captureStackTrace","out","fn_name","next_line","equal","notEqual","deepEqual","deepStrictEqual","notDeepEqual","strictEqual","notStrictEqual","throws","doesNotThrow","ifError","$lookup","joinColl","joinColl_1","foreignField","localField","as","$count","trim","__pipeline","operatorKeys"],"mappings":"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","file":"js/Search.a4f09de3.js","sourcesContent":["var exists = require('101/exists')\n\nmodule.exports = function keypathSyntaxErrorMessage (state, extra, i) {\n  var character = exists(i) ? state.keypath.charAt(i) : state.character\n  if (character === 'END') {\n    return \"Unexpected end of keypath '$keypath' ($extra)\"\n      .replace(/\\$extra/g, extra)\n      .replace(/\\$keypath/g, state.keypath)\n  }\n  return \"Unexpected token '$character' in keypath '$keypath' at position $i ($extra)\"\n    .replace(/\\$extra/g, extra)\n    .replace(/\\$character/g, character)\n    .replace(/\\$i/g, exists(i) ? i : state.i)\n    .replace(/\\$keypath/g, state.keypath)\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$skip = void 0;\n/**\n * Skips over a specified number of documents from the pipeline and returns the rest.\n *\n * @param collection An iterator\n * @param expr\n * @param  {Options} options\n * @returns {*}\n */\nfunction $skip(collection, expr, options) {\n    return collection.drop(expr);\n}\nexports.$skip = $skip;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Query = void 0;\nvar core_1 = require(\"./core\");\nvar cursor_1 = require(\"./cursor\");\nvar util_1 = require(\"./util\");\n/**\n * An object used to filter input documents\n *\n * @param {Object} criteria The criteria for constructing predicates\n * @param {Options} options Options for use by operators\n * @constructor\n */\nvar Query = /** @class */ (function () {\n    function Query(criteria, options) {\n        this.__criteria = criteria;\n        this.__options = core_1.makeOptions(options);\n        this.__compiled = [];\n        this._compile();\n    }\n    Query.prototype._compile = function () {\n        util_1.assert(util_1.isObject(this.__criteria), \"query criteria must be an object\");\n        var whereOperator;\n        for (var _i = 0, _a = Object.entries(this.__criteria); _i < _a.length; _i++) {\n            var _b = _a[_i], field = _b[0], expr = _b[1];\n            if (\"$where\" === field) {\n                whereOperator = { field: field, expr: expr };\n            }\n            else if (\"$expr\" === field) {\n                this._processOperator(field, field, expr);\n            }\n            else if (util_1.inArray([\"$and\", \"$or\", \"$nor\"], field)) {\n                this._processOperator(field, field, expr);\n            }\n            else {\n                // normalize expression\n                util_1.assert(!util_1.isOperator(field), \"unknown top level operator: \" + field);\n                for (var _c = 0, _d = Object.entries(util_1.normalize(expr)); _c < _d.length; _c++) {\n                    var _e = _d[_c], operator = _e[0], val = _e[1];\n                    this._processOperator(field, operator, val);\n                }\n            }\n            if (util_1.isObject(whereOperator)) {\n                this._processOperator(whereOperator.field, whereOperator.field, whereOperator.expr);\n            }\n        }\n    };\n    Query.prototype._processOperator = function (field, operator, value) {\n        var call = core_1.getOperator(core_1.OperatorType.QUERY, operator);\n        util_1.assert(!!call, \"unknown operator \" + operator);\n        var fn = call(field, value, this.__options);\n        this.__compiled.push(fn);\n    };\n    /**\n     * Checks if the object passes the query criteria. Returns true if so, false otherwise.\n     *\n     * @param obj The object to test\n     * @returns {boolean} True or false\n     */\n    Query.prototype.test = function (obj) {\n        for (var i = 0, len = this.__compiled.length; i < len; i++) {\n            if (!this.__compiled[i](obj)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    /**\n     * Returns a cursor to select matching documents from the input source.\n     *\n     * @param source A source providing a sequence of documents\n     * @param projection An optional projection criteria\n     * @returns {Cursor} A Cursor for iterating over the results\n     */\n    Query.prototype.find = function (collection, projection) {\n        var _this = this;\n        return new cursor_1.Cursor(collection, function (x) { return _this.test(x); }, projection || {}, this.__options);\n    };\n    /**\n     * Remove matched documents from the collection returning the remainder\n     *\n     * @param collection An array of documents\n     * @returns {Array} A new array with matching elements removed\n     */\n    Query.prototype.remove = function (collection) {\n        var _this = this;\n        return collection.reduce(function (acc, obj) {\n            if (!_this.test(obj))\n                acc.push(obj);\n            return acc;\n        }, []);\n    };\n    return Query;\n}());\nexports.Query = Query;\n","\"use strict\";\n// Boolean Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#boolean-expression-operators\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$not = void 0;\nvar core_1 = require(\"../../../core\");\nvar util_1 = require(\"../../../util\");\n/**\n * Returns the boolean value that is the opposite of its argument expression. Accepts a single argument expression.\n *\n * @param obj RawObject from collection\n * @param expr Right hand side expression of operator\n * @returns {boolean}\n */\nfunction $not(obj, expr, options) {\n    var booleanExpr = util_1.ensureArray(expr);\n    // array values are truthy so an emty array is false\n    if (booleanExpr.length == 0)\n        return false;\n    // use provided value non-array value\n    if (booleanExpr.length == 1)\n        return !core_1.computeValue(obj, booleanExpr[0], null, options);\n    // expects a single argument\n    throw \"Expression $not takes exactly 1 argument\";\n}\nexports.$not = $not;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.aggregate = exports.remove = exports.find = exports.Query = exports.Aggregator = void 0;\n// loads basic operators\nrequire(\"./init/basic\");\nvar aggregator_1 = require(\"./aggregator\");\nvar query_1 = require(\"./query\");\nvar aggregator_2 = require(\"./aggregator\");\nObject.defineProperty(exports, \"Aggregator\", { enumerable: true, get: function () { return aggregator_2.Aggregator; } });\nvar query_2 = require(\"./query\");\nObject.defineProperty(exports, \"Query\", { enumerable: true, get: function () { return query_2.Query; } });\n/**\n * Performs a query on a collection and returns a cursor object.\n * Shorthand for `Query(criteria).find(collection, projection)`\n *\n * @param collection Array of objects\n * @param criteria Query criteria\n * @param projection Projection criteria\n * @param options\n * @returns {Cursor} A cursor of results\n */\nfunction find(collection, criteria, projection, options) {\n    return new query_1.Query(criteria, options).find(collection, projection);\n}\nexports.find = find;\n/**\n * Returns a new array without objects which match the criteria\n *\n * @param collection Array of objects\n * @param criteria Query criteria of objects to remove\n * @param options\n * @returns {Array} New filtered array\n */\nfunction remove(collection, criteria, options) {\n    return new query_1.Query(criteria, options).remove(collection);\n}\nexports.remove = remove;\n/**\n * Return the result collection after running the aggregation pipeline for the given collection.\n * Shorthand for `(new Aggregator(pipeline, options)).run(collection)`\n *\n * @param collection Collection or stream of objects\n * @param pipeline The pipeline operators to use\n * @param options\n * @returns {Array} New array of results\n */\nfunction aggregate(collection, pipeline, options) {\n    return new aggregator_1.Aggregator(pipeline, options).run(collection);\n}\nexports.aggregate = aggregate;\n// default interface\nexports.default = {\n    Aggregator: aggregator_1.Aggregator,\n    Query: query_1.Query,\n    aggregate: aggregate,\n    find: find,\n    remove: remove,\n};\n","\"use strict\";\n// Boolean Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#boolean-expression-operators\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$and = void 0;\nvar core_1 = require(\"../../../core\");\nvar util_1 = require(\"../../../util\");\n/**\n * Returns true only when all its expressions evaluate to true. Accepts any number of argument expressions.\n *\n * @param obj\n * @param expr\n * @returns {boolean}\n */\nfunction $and(obj, expr, options) {\n    var value = core_1.computeValue(obj, expr, null, options);\n    return util_1.truthy(value) && value.every(util_1.truthy);\n}\nexports.$and = $and;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$replaceRoot = void 0;\nvar core_1 = require(\"../../core\");\nvar util_1 = require(\"../../util\");\n/**\n * Replaces a document with the specified embedded document or new one.\n * The replacement document can be any valid expression that resolves to a document.\n *\n * https://docs.mongodb.com/manual/reference/operator/aggregation/replaceRoot/\n *\n * @param  {Iterator} collection\n * @param  {Object} expr\n * @param  {Object} options\n * @return {*}\n */\nfunction $replaceRoot(collection, expr, options) {\n    return collection.map(function (obj) {\n        obj = core_1.computeValue(obj, expr.newRoot, null, options);\n        util_1.assert(util_1.isObject(obj), \"$replaceRoot expression must return an object\");\n        return obj;\n    });\n}\nexports.$replaceRoot = $replaceRoot;\n","var getOperation = require('./lib/operations/get.js')\nvar keypathReducer = require('./lib/keypath-reducer.js')\n\nmodule.exports = getKeypath\n\nfunction getKeypath (ctx, keypath, opts) {\n  return keypathReducer({\n    ctx: ctx,\n    keypath: keypath\n  }, getOperation, opts)\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$set = void 0;\nvar addFields_1 = require(\"./addFields\");\n/**\n * Alias for $addFields.\n */\nexports.$set = addFields_1.$addFields;\n","var exists = require('101/exists')\nvar undefinedErrMessage = require('../error-messages/key-of-undefined')\n\nmodule.exports = function getOperation (obj, key, state, opts) {\n  // if obj exists\n  if (exists(obj)) return obj[key]\n  // obj does not exist\n  if (opts.force) return undefined\n  // obj does not exist, and no \"force\"\n  throw new TypeError(undefinedErrMessage(key, state))\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./all\"), exports);\n__exportStar(require(\"./elemMatch\"), exports);\n__exportStar(require(\"./size\"), exports);\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","\"use strict\";\n// Comparison Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#comparison-expression-operators\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$cmp = exports.$ne = exports.$lte = exports.$lt = exports.$gte = exports.$gt = exports.$eq = void 0;\nvar core_1 = require(\"../../core\");\nvar _predicates_1 = require(\"../_predicates\");\nexports.$eq = _predicates_1.createExpressionOperator(_predicates_1.$eq);\nexports.$gt = _predicates_1.createExpressionOperator(_predicates_1.$gt);\nexports.$gte = _predicates_1.createExpressionOperator(_predicates_1.$gte);\nexports.$lt = _predicates_1.createExpressionOperator(_predicates_1.$lt);\nexports.$lte = _predicates_1.createExpressionOperator(_predicates_1.$lte);\nexports.$ne = _predicates_1.createExpressionOperator(_predicates_1.$ne);\n/**\n * Compares two values and returns the result of the comparison as an integer.\n *\n * @param obj\n * @param expr\n * @returns {number}\n */\nfunction $cmp(obj, expr, options) {\n    var args = core_1.computeValue(obj, expr, null, options);\n    if (args[0] > args[1])\n        return 1;\n    if (args[0] < args[1])\n        return -1;\n    return 0;\n}\nexports.$cmp = $cmp;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$unwind = void 0;\nvar lazy_1 = require(\"../../lazy\");\nvar util_1 = require(\"../../util\");\n/**\n * Takes an array of documents and returns them as a stream of documents.\n *\n * @param collection\n * @param expr\n * @param options\n * @returns {Array}\n */\nfunction $unwind(collection, expr, options) {\n    if (util_1.isString(expr))\n        expr = { path: expr };\n    var path = expr.path;\n    var field = path.substr(1);\n    var includeArrayIndex = (expr === null || expr === void 0 ? void 0 : expr.includeArrayIndex) || false;\n    var preserveNullAndEmptyArrays = expr.preserveNullAndEmptyArrays || false;\n    var format = function (o, i) {\n        if (includeArrayIndex !== false)\n            o[includeArrayIndex] = i;\n        return o;\n    };\n    var value;\n    return lazy_1.Lazy(function () {\n        var _loop_1 = function () {\n            // take from lazy sequence if available\n            if (value instanceof lazy_1.Iterator) {\n                var tmp = value.next();\n                if (!tmp.done)\n                    return { value: tmp };\n            }\n            // fetch next object\n            var wrapper = collection.next();\n            if (wrapper.done)\n                return { value: wrapper };\n            // unwrap value\n            var obj = wrapper.value;\n            // get the value of the field to unwind\n            value = util_1.resolve(obj, field);\n            // throw error if value is not an array???\n            if (value instanceof Array) {\n                if (value.length === 0 && preserveNullAndEmptyArrays === true) {\n                    value = null; // reset unwind value\n                    var tmp = util_1.cloneDeep(obj);\n                    util_1.removeValue(tmp, field);\n                    return { value: { value: format(tmp, null), done: false } };\n                }\n                else {\n                    // construct a lazy sequence for elements per value\n                    value = lazy_1.Lazy(value).map(function (item, i) {\n                        var tmp = util_1.cloneDeep(obj);\n                        util_1.setValue(tmp, field, item);\n                        return format(tmp, i);\n                    });\n                }\n            }\n            else if (!util_1.isEmpty(value) || preserveNullAndEmptyArrays === true) {\n                var tmp = util_1.cloneDeep(obj);\n                return { value: { value: format(tmp, null), done: false } };\n            }\n        };\n        for (;;) {\n            var state_1 = _loop_1();\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n    });\n}\nexports.$unwind = $unwind;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$out = void 0;\nvar util_1 = require(\"../../util\");\n/**\n * Takes the documents returned by the aggregation pipeline and writes them to a specified collection.\n *\n * Unlike the $out operator in MongoDB, this operator can appear in any position in the pipeline and is\n * useful for collecting intermediate results of an aggregation operation.\n *\n * @param collection\n * @param expr\n * @param options\n * @returns {*}\n */\nfunction $out(collection, expr, options) {\n    var outputColl = util_1.isString(expr)\n        ? options === null || options === void 0 ? void 0 : options.collectionResolver(expr) : expr;\n    util_1.assert(outputColl instanceof Array, \"expression must resolve to an array\");\n    return collection.map(function (o) {\n        outputColl.push(o);\n        return o; // passthrough\n    });\n}\nexports.$out = $out;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Modal',{attrs:{\"title\":'Фільтр'}},[_c('v-list',{attrs:{\"three-line\":\"\",\"subheader\":\"\"}},[_c('v-list-item',[_c('v-list-item-content',[_c('v-text-field',{staticClass:\"py-2\",attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Пошук\",\"dense\":\"\",\"hide-details\":\"\"},model:{value:(_vm.state.filters.search),callback:function ($$v) {_vm.$set(_vm.state.filters, \"search\", $$v)},expression:\"state.filters.search\"}}),_c('v-select',{staticClass:\"mt-4\",attrs:{\"items\":_vm.birthPlaces,\"label\":\"Місцевість\",\"dense\":\"\",\"outlined\":\"\"},model:{value:(_vm.state.filters.birthPlace),callback:function ($$v) {_vm.$set(_vm.state.filters, \"birthPlace\", $$v)},expression:\"state.filters.birthPlace\"}}),_c('div',_vm._l((_vm.headers),function(header){return _c('v-checkbox',{key:header.text,staticClass:\"mt-0\",attrs:{\"label\":header.text,\"color\":\"primary\",\"hide-details\":\"\",\"value\":header.value},model:{value:(_vm.state.settings.columns),callback:function ($$v) {_vm.$set(_vm.state.settings, \"columns\", $$v)},expression:\"state.settings.columns\"}})}),1),_c('v-select',{attrs:{\"items\":Object.keys(_vm.paginationMap),\"label\":\"Записів на сторінку \",\"dense\":\"\"},model:{value:(_vm.state.settings.selectedPagination),callback:function ($$v) {_vm.$set(_vm.state.settings, \"selectedPagination\", $$v)},expression:\"state.settings.selectedPagination\"}}),_c('v-divider',{staticClass:\"my-2\"}),_c('v-btn',{on:{\"click\":function($event){return _vm.clean()}}},[_vm._v(\"Очистити фільтр\")])],1)],1)],1),_c('v-divider')],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\"}},[_c('v-flex',{staticClass:\"d-flex pa-1 justify-space-between\",attrs:{\"xs12\":\"\"}},[_c('div',{staticClass:\"d-flex align-center\"},[_c('v-btn',{staticClass:\"mx-1\",on:{\"click\":function($event){_vm.page = 1}}},[_vm._v(\"Народження\")]),_c('v-btn',{staticClass:\"mx-1\",on:{\"click\":function($event){_vm.page = 2}}},[_vm._v(\"Одруження\")]),_c('v-btn',{staticClass:\"mx-1\",on:{\"click\":function($event){_vm.page = 3}}},[_vm._v(\"Смерть\")])],1),_c('v-pagination',{staticClass:\"d-flex\",attrs:{\"length\":_vm.pageCount,\"total-visible\":7},model:{value:(_vm.state.settings.paginationPage),callback:function ($$v) {_vm.$set(_vm.state.settings, \"paginationPage\", $$v)},expression:\"state.settings.paginationPage\"}})],1),_c('v-flex',{staticClass:\"d-flex pa-1 mt-4\",attrs:{\"xs12\":\"\"}},[_c('div',{staticClass:\"filters__container\"},[(_vm.$vuetify.breakpoint.smAndUp)?_c('div',{staticClass:\"pr-2\",style:({ maxHeight: _vm.siteSpaceHeight + 'px' }),attrs:{\"sm2\":\"\"}},[_c('div',{staticClass:\"px-1 py-4\",staticStyle:{\"border\":\"1px solid #dfdfdf\",\"border-radius\":\"5px\",\"max-width\":\"280px\",\"background\":\"white\"}},[_c('div',{staticClass:\"subtitle-1 pb-4\"},[_vm._v(\" Знайдено: \"+_vm._s(_vm.paginationEvent.itemsLength)+\" записів \")]),_c('v-divider',{staticClass:\"mb-4\"}),_c('v-text-field',{staticClass:\"py-2\",attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Пошук\",\"dense\":\"\",\"hide-details\":\"\"},model:{value:(_vm.state.filters.search),callback:function ($$v) {_vm.$set(_vm.state.filters, \"search\", $$v)},expression:\"state.filters.search\"}}),_c('v-select',{staticClass:\"mt-4\",attrs:{\"items\":_vm.birthPlaces,\"label\":\"Місцевість\",\"dense\":\"\",\"outlined\":\"\"},model:{value:(_vm.state.filters.birthPlace),callback:function ($$v) {_vm.$set(_vm.state.filters, \"birthPlace\", $$v)},expression:\"state.filters.birthPlace\"}}),_c('v-select',{attrs:{\"items\":Object.keys(_vm.paginationMap),\"label\":\"Записів на сторінку \",\"dense\":\"\"},model:{value:(_vm.state.settings.selectedPagination),callback:function ($$v) {_vm.$set(_vm.state.settings, \"selectedPagination\", $$v)},expression:\"state.settings.selectedPagination\"}}),_vm._l((_vm.headers),function(header){return _c('v-checkbox',{key:header.text,staticClass:\"mt-0\",attrs:{\"label\":header.text,\"color\":\"primary\",\"hide-details\":\"\",\"value\":header.value},model:{value:(_vm.state.settings.columns),callback:function ($$v) {_vm.$set(_vm.state.settings, \"columns\", $$v)},expression:\"state.settings.columns\"}})}),_c('v-divider',{staticClass:\"my-4\"}),_c('v-btn',{on:{\"click\":function($event){return _vm.clean()}}},[_vm._v(\"Очистити\")])],2)]):_vm._e()]),_c('div',{ref:\"content\",staticClass:\"table__container\",attrs:{\"xs12\":\"\",\"sm10\":\"\"}},[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"height\":\"700px\",\"fixed-header\":\"\",\"dense\":\"\",\"page\":_vm.state.settings.paginationPage,\"items-per-page\":_vm.itemsPerPage,\"loading\":_vm.loading,\"loading-text\":\"Завантаження, будь ласка, зачекайте\",\"headers\":_vm.filteredHeaders,\"items\":_vm.filteredItems,\"hide-default-footer\":\"\"},on:{\"update:page\":function($event){return _vm.$set(_vm.state.settings, \"paginationPage\", $event)},\"pagination\":function($event){_vm.paginationEvent = $event}},scopedSlots:_vm._u([{key:\"no-data\",fn:function(){return [(_vm.loading)?_c('div',[_vm._v(\"Завантаження\")]):_c('div',[_vm._v(\"Немає даних\")])]},proxy:true}])})],1)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import getKeyPath from 'keypather/get'\r\n\r\nfunction sortByKey(array, key) {\r\n  return array.sort((a, b) => {\r\n    let x = key.split('.').reduce((i, j) => i[j], a)\r\n    let y = key.split('.').reduce((i, j) => i[j], b)\r\n    return x < y ? -1 : x > y ? 1 : 0\r\n  })\r\n}\r\n\r\nexport default function search({ list, search, fields, filter, sortKey }) {\r\n  // If no list is supplied return an empty array\r\n  if (!list) return []\r\n\r\n  // If there is a search string, and defined fields to search in, filter the list\r\n  if (search && fields && fields.length > 0) {\r\n    const keywords = search.toLowerCase().split(' ')\r\n\r\n    let matches = 0\r\n\r\n    list = list.filter((item) => {\r\n      matches = 0\r\n      for (const keyword of keywords) {\r\n        for (const field of fields) {\r\n          let val = getKeyPath(item, field)\r\n          if (val && val.toLowerCase().includes(keyword)) {\r\n            matches++\r\n            break\r\n          }\r\n        }\r\n      }\r\n      if (matches >= keywords.length) return true\r\n      else return false\r\n    })\r\n  }\r\n\r\n  if (filter) {\r\n    let matches = 0\r\n    let numFilters = Object.keys(filter).length\r\n\r\n    list = list.filter((item) => {\r\n      matches = 0\r\n      for (let key in filter) {\r\n        // Return item if filter array is empty or null\r\n        if (!filter[key].length) {\r\n          matches++\r\n          continue\r\n        }\r\n        // Get the key from the current looped item\r\n        let val = key.split('.').reduce((a, b) => a?.[b], item)\r\n        if (filter[key].includes(val)) {\r\n          matches++\r\n        }\r\n      }\r\n\r\n      return matches >= numFilters\r\n    })\r\n  }\r\n\r\n  // If no sort key is supplied, return the list, otherwise sort the list and return it\r\n  if (!sortKey) return list\r\n  else return sortByKey(list, sortKey)\r\n}\r\n","import mingo from 'mingo'\r\nimport search from '@/imports/search'\r\n\r\nexport function mingoFilter(data, state) {\r\n  let res = search({\r\n    list: data,\r\n    search: state.filters.search,\r\n    fields: ['birthPlace', 'firstName']\r\n  })\r\n\r\n  let query = {}\r\n\r\n  if (state.filters.birthPlace !== '') {\r\n    query['birthPlace'] = {\r\n      $eq: state.filters.birthPlace\r\n    }\r\n  }\r\n\r\n  return mingo.find(res, query).all()\r\n\r\n  //   let sortObj = {}\r\n\r\n  //   sortObj[ASSETS_OBSERVER.state.settings.sortBy] = ASSETS_OBSERVER.state.settings.descending\r\n  //     ? -1\r\n  //     : 1\r\n\r\n  //   return mingo.find(res, query).sort(sortObj).all()\r\n}\r\n","<template>\r\n  <div>\r\n    <Modal :title=\"'Фільтр'\">\r\n      <v-list three-line subheader>\r\n        <!-- <v-subheader>User Controls</v-subheader> -->\r\n        <v-list-item>\r\n          <v-list-item-content>\r\n            <!-- <v-list-item-title>Content filtering</v-list-item-title> -->\r\n\r\n            <v-text-field\r\n              v-model=\"state.filters.search\"\r\n              class=\"py-2\"\r\n              append-icon=\"mdi-magnify\"\r\n              label=\"Пошук\"\r\n              dense\r\n              hide-details\r\n            ></v-text-field>\r\n\r\n            <v-select\r\n              v-model=\"state.filters.birthPlace\"\r\n              class=\"mt-4\"\r\n              :items=\"birthPlaces\"\r\n              label=\"Місцевість\"\r\n              dense\r\n              outlined\r\n            ></v-select>\r\n\r\n            <div>\r\n              <v-checkbox\r\n                v-for=\"header in headers\"\r\n                :key=\"header.text\"\r\n                v-model=\"state.settings.columns\"\r\n                class=\"mt-0\"\r\n                :label=\"header.text\"\r\n                color=\"primary\"\r\n                hide-details\r\n                :value=\"header.value\"\r\n              ></v-checkbox>\r\n            </div>\r\n            <v-select\r\n              v-model=\"state.settings.selectedPagination\"\r\n              :items=\"Object.keys(paginationMap)\"\r\n              label=\"Записів на сторінку \"\r\n              dense\r\n            ></v-select>\r\n            <v-divider class=\"my-2\"></v-divider>\r\n            <v-btn @click=\"clean()\">Очистити фільтр</v-btn>\r\n          </v-list-item-content>\r\n        </v-list-item>\r\n      </v-list>\r\n      <v-divider></v-divider>\r\n    </Modal>\r\n    <v-flex xs12>\r\n      <v-layout class=\"\" row wrap align-center>\r\n        <v-flex xs12 class=\"d-flex pa-1 justify-space-between\">\r\n          <div class=\"d-flex align-center\">\r\n            <v-btn class=\"mx-1\" @click=\"page = 1\">Народження</v-btn>\r\n            <v-btn class=\"mx-1\" @click=\"page = 2\">Одруження</v-btn>\r\n            <v-btn class=\"mx-1\" @click=\"page = 3\">Смерть</v-btn>\r\n          </div>\r\n          <!-- <div xs12 class=\"d-flex justify-space-between align-center pb-4\"> -->\r\n          <v-pagination\r\n            v-model=\"state.settings.paginationPage\"\r\n            class=\"d-flex\"\r\n            :length=\"pageCount\"\r\n            :total-visible=\"7\"\r\n          ></v-pagination>\r\n          <!-- </div> -->\r\n        </v-flex>\r\n        <v-flex class=\"d-flex pa-1 mt-4\" xs12>\r\n          <div class=\"filters__container\">\r\n            <div\r\n              v-if=\"$vuetify.breakpoint.smAndUp\"\r\n              class=\"pr-2\"\r\n              :style=\"{ maxHeight: siteSpaceHeight + 'px' }\"\r\n              sm2\r\n            >\r\n              <div\r\n                class=\"px-1 py-4\"\r\n                style=\"\r\n                  border: 1px solid #dfdfdf;\r\n                  border-radius: 5px;\r\n                  max-width: 280px;\r\n                  background: white;\r\n                \"\r\n              >\r\n                <div class=\"subtitle-1 pb-4\">\r\n                  Знайдено: {{ paginationEvent.itemsLength }} записів\r\n                </div>\r\n                <v-divider class=\"mb-4\"></v-divider>\r\n                <v-text-field\r\n                  v-model=\"state.filters.search\"\r\n                  class=\"py-2\"\r\n                  append-icon=\"mdi-magnify\"\r\n                  label=\"Пошук\"\r\n                  dense\r\n                  hide-details\r\n                ></v-text-field>\r\n\r\n                <v-select\r\n                  v-model=\"state.filters.birthPlace\"\r\n                  class=\"mt-4\"\r\n                  :items=\"birthPlaces\"\r\n                  label=\"Місцевість\"\r\n                  dense\r\n                  outlined\r\n                ></v-select>\r\n\r\n                <v-select\r\n                  v-model=\"state.settings.selectedPagination\"\r\n                  :items=\"Object.keys(paginationMap)\"\r\n                  label=\"Записів на сторінку \"\r\n                  dense\r\n                ></v-select>\r\n                <v-checkbox\r\n                  v-for=\"header in headers\"\r\n                  :key=\"header.text\"\r\n                  v-model=\"state.settings.columns\"\r\n                  class=\"mt-0\"\r\n                  :label=\"header.text\"\r\n                  color=\"primary\"\r\n                  hide-details\r\n                  :value=\"header.value\"\r\n                ></v-checkbox>\r\n                <v-divider class=\"my-4\"></v-divider>\r\n                <v-btn @click=\"clean()\">Очистити</v-btn>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div ref=\"content\" xs12 sm10 class=\"table__container\">\r\n            <v-data-table\r\n              height=\"700px\"\r\n              fixed-header\r\n              dense\r\n              :page.sync=\"state.settings.paginationPage\"\r\n              :items-per-page=\"itemsPerPage\"\r\n              :loading=\"loading\"\r\n              loading-text=\"Завантаження, будь ласка, зачекайте\"\r\n              :headers=\"filteredHeaders\"\r\n              :items=\"filteredItems\"\r\n              class=\"elevation-1\"\r\n              hide-default-footer\r\n              @pagination=\"paginationEvent = $event\"\r\n            >\r\n              <template v-slot:no-data>\r\n                <div v-if=\"loading\">Завантаження</div>\r\n                <div v-else>Немає даних</div>\r\n              </template>\r\n            </v-data-table>\r\n          </div>\r\n        </v-flex>\r\n      </v-layout>\r\n    </v-flex>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst initSettings = {\r\n  columns: ['firstName', 'lastName', 'birthday', 'sex', 'birthPlace', 'note'],\r\n  sortBy: '',\r\n  descending: true,\r\n  paginationPage: 1,\r\n  selectedPagination: 20,\r\n  results: 10\r\n}\r\n\r\nconst initFilters = {\r\n  search: '',\r\n  birthPlace: ''\r\n}\r\n\r\nimport { mingoFilter } from '../service/mingo/birth'\r\n\r\nexport default {\r\n  components: {},\r\n  data() {\r\n    return {\r\n      page: 1,\r\n      state: {\r\n        settings: Object.assign({}, initSettings),\r\n        filters: Object.assign({}, initFilters)\r\n      },\r\n      sideSpaceState: undefined,\r\n      loading: false,\r\n      paginationEvent: {},\r\n      paginationMap: {\r\n        10: 10,\r\n        20: 20,\r\n        50: 50,\r\n        100: 100,\r\n        500: 500,\r\n        Всі: 999999999\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    filteredHeaders() {\r\n      return this.headers.filter((header) => this.state.settings.columns.includes(header.value))\r\n    },\r\n    birthPlaces() {\r\n      return [\r\n        ...new Set(\r\n          this.$store.state.birth.birthRecords\r\n            .map((item) => item.birthPlace)\r\n            .filter((item) => item !== '-' && item !== '')\r\n        )\r\n      ]\r\n    },\r\n    filteredItems() {\r\n      return mingoFilter(this.$store.state.birth.birthRecords, this.state)\r\n    },\r\n    itemsPerPage() {\r\n      // this.paginationPage = 1\r\n      let res = Object.entries(this.paginationMap).find(([key, value]) => {\r\n        if (key == this.state.settings.selectedPagination) return value\r\n      })\r\n\r\n      if (res !== undefined) return res[1]\r\n      else return this.paginationMap['Всі']\r\n    },\r\n    pageCount() {\r\n      return !this.paginationEvent.itemsLength\r\n        ? 1\r\n        : Math.ceil(this.paginationEvent.itemsLength / this.itemsPerPage)\r\n    },\r\n    siteSpaceHeight() {\r\n      return window.innerHeight\r\n    },\r\n    birth() {\r\n      return this.$store.state.birth.birthRecords\r\n    },\r\n    headers() {\r\n      return [\r\n        { text: \"Ім'я\", value: 'firstName', align: 'center', sortable: true },\r\n        { text: 'Прізвище', align: 'center', value: 'lastName', sortable: true },\r\n        { text: \"ім'я друге\", align: 'center', value: 'secondName', sortable: true },\r\n        { text: 'Номер акту', align: 'center', value: 'actNumber', sortable: true },\r\n        { text: 'Дата народження', align: 'center', value: 'birthday', sortable: true },\r\n        { text: 'Стать (ч/ж)', align: 'center', value: 'sex', sortable: true },\r\n        { text: \"Ім'я матері\", align: 'center', value: 'motherName', sortable: true },\r\n        { text: 'Прізвище матері', align: 'center', value: 'motherLastname', sortable: true },\r\n        { text: \"Ім'я батька\", align: 'center', value: 'fatherName', sortable: true },\r\n        { text: 'Примітки', align: 'center', value: 'note' },\r\n        { text: 'Номер фото', align: 'center', value: 'photo' },\r\n        { text: 'Місцевість', align: 'center', value: 'birthPlace', sortable: true },\r\n        { text: 'Запис', align: 'center', value: 'recordedBy', sortable: true }\r\n      ]\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loading = true\r\n    this.$store.dispatch('GET_BIRTHS')\r\n    this.loading = false\r\n  },\r\n  methods: {\r\n    clean() {\r\n      this.state.filters = Object.assign({}, initFilters)\r\n      this.state.settings = Object.assign({}, initSettings)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n@media only screen and (max-width: 599px) {\r\n  .filters__container {\r\n    width: 0%;\r\n  }\r\n  .table__container {\r\n    width: 100% !important;\r\n  }\r\n}\r\n@media only screen and (min-width: 600px) {\r\n  .filters__container {\r\n    width: 16% !important;\r\n  }\r\n  .table__container {\r\n    width: 84% !important;\r\n  }\r\n}\r\n\r\n.v-data-table-header-mobile {\r\n  display: none !important;\r\n}\r\ntbody tr:nth-of-type(odd) {\r\n  background-color: rgba(0, 0, 0, 0.05);\r\n}\r\n.v-pagination {\r\n  justify-content: flex-end;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=61962968&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\"use strict\";\n/**\n * Predicates used for Query and Expression operators.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$type = exports.$elemMatch = exports.$size = exports.$all = exports.$exists = exports.$regex = exports.$mod = exports.$gte = exports.$gt = exports.$lte = exports.$lt = exports.$nin = exports.$in = exports.$ne = exports.$eq = exports.createExpressionOperator = exports.createQueryOperator = void 0;\nvar core_1 = require(\"../core\");\nvar query_1 = require(\"../query\");\nvar util_1 = require(\"../util\");\n/**\n * Returns a query operator created from the predicate\n *\n * @param pred Predicate function\n */\nfunction createQueryOperator(pred) {\n    return function (selector, value, options) {\n        var opts = { unwrapArray: true };\n        return function (obj) {\n            // value of field must be fully resolved.\n            var lhs = util_1.resolve(obj, selector, opts);\n            return pred(lhs, value, options);\n        };\n    };\n}\nexports.createQueryOperator = createQueryOperator;\n/**\n * Returns an expression operator created from the predicate\n *\n * @param f Predicate function\n */\nfunction createExpressionOperator(f) {\n    return function (obj, expr, options) {\n        var args = core_1.computeValue(obj, expr, null, options);\n        return f.apply(void 0, args);\n    };\n}\nexports.createExpressionOperator = createExpressionOperator;\n/**\n * Checks that two values are equal.\n *\n * @param a         The lhs operand as resolved from the object by the given selector\n * @param b         The rhs operand provided by the user\n * @returns {*}\n */\nfunction $eq(a, b, options) {\n    // start with simple equality check\n    if (util_1.isEqual(a, b))\n        return true;\n    // https://docs.mongodb.com/manual/tutorial/query-for-null-fields/\n    if (util_1.isNil(a) && util_1.isNil(b))\n        return true;\n    // check\n    if (a instanceof Array) {\n        var eq = util_1.isEqual.bind(null, b);\n        return a.some(eq) || util_1.flatten(a, 1).some(eq);\n    }\n    return false;\n}\nexports.$eq = $eq;\n/**\n * Matches all values that are not equal to the value specified in the query.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nfunction $ne(a, b, options) {\n    return !$eq(a, b, options);\n}\nexports.$ne = $ne;\n/**\n * Matches any of the values that exist in an array specified in the query.\n *\n * @param a\n * @param b\n * @returns {*}\n */\nfunction $in(a, b, options) {\n    // queries for null should be able to find undefined fields\n    if (util_1.isNil(a))\n        return b.some(util_1.isNull);\n    return util_1.intersection(util_1.ensureArray(a), b, options === null || options === void 0 ? void 0 : options.hashFunction).length > 0;\n}\nexports.$in = $in;\n/**\n * Matches values that do not exist in an array specified to the query.\n *\n * @param a\n * @param b\n * @returns {*|boolean}\n */\nfunction $nin(a, b, options) {\n    return !$in(a, b, options);\n}\nexports.$nin = $nin;\n/**\n * Matches values that are less than the value specified in the query.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nfunction $lt(a, b, options) {\n    return compare(a, b, function (x, y) { return x < y; });\n}\nexports.$lt = $lt;\n/**\n * Matches values that are less than or equal to the value specified in the query.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nfunction $lte(a, b, options) {\n    return compare(a, b, function (x, y) { return x <= y; });\n}\nexports.$lte = $lte;\n/**\n * Matches values that are greater than the value specified in the query.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nfunction $gt(a, b, options) {\n    return compare(a, b, function (x, y) { return x > y; });\n}\nexports.$gt = $gt;\n/**\n * Matches values that are greater than or equal to the value specified in the query.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nfunction $gte(a, b, options) {\n    return compare(a, b, function (x, y) { return x >= y; });\n}\nexports.$gte = $gte;\n/**\n * Performs a modulo operation on the value of a field and selects documents with a specified result.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nfunction $mod(a, b, options) {\n    return util_1.ensureArray(a).some(function (x) { return b.length === 2 && x % b[0] === b[1]; });\n}\nexports.$mod = $mod;\n/**\n * Selects documents where values match a specified regular expression.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nfunction $regex(a, b, options) {\n    var lhs = util_1.ensureArray(a);\n    var match = function (x) { return util_1.isString(x) && !!b.exec(x); };\n    return lhs.some(match) || util_1.flatten(lhs, 1).some(match);\n}\nexports.$regex = $regex;\n/**\n * Matches documents that have the specified field.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nfunction $exists(a, b, options) {\n    return (((b === false || b === 0) && a === undefined) ||\n        ((b === true || b === 1) && a !== undefined));\n}\nexports.$exists = $exists;\n/**\n * Matches arrays that contain all elements specified in the query.\n *\n * @param a\n * @param b\n * @returns boolean\n */\nfunction $all(a, b, options) {\n    var matched = false;\n    if (util_1.isArray(a) && util_1.isArray(b)) {\n        for (var i = 0, len = b.length; i < len; i++) {\n            if (util_1.isObject(b[i]) && util_1.inArray(Object.keys(b[i]), \"$elemMatch\")) {\n                matched = matched || $elemMatch(a, b[i][\"$elemMatch\"], options);\n            }\n            else {\n                // order of arguments matter\n                return util_1.intersection(b, a, options === null || options === void 0 ? void 0 : options.hashFunction).length === len;\n            }\n        }\n    }\n    return matched;\n}\nexports.$all = $all;\n/**\n * Selects documents if the array field is a specified size.\n *\n * @param a\n * @param b\n * @returns {*|boolean}\n */\nfunction $size(a, b, options) {\n    return a.length === b;\n}\nexports.$size = $size;\nfunction isNonBooleanOperator(name) {\n    return util_1.isOperator(name) && [\"$and\", \"$or\", \"$nor\"].indexOf(name) === -1;\n}\n/**\n * Selects documents if element in the array field matches all the specified $elemMatch condition.\n *\n * @param a {Array} element to match against\n * @param b {Object} subquery\n */\nfunction $elemMatch(a, b, options) {\n    // should return false for non-matching input\n    if (util_1.isArray(a) && !util_1.isEmpty(a)) {\n        var format = function (x) { return x; };\n        var criteria = b;\n        // If we find a boolean operator in the subquery, we fake a field to point to it. This is an\n        // attempt to ensure that it is a valid criteria. We cannot make this substitution for operators\n        // like $and/$or/$nor; as otherwise, this faking will break our query.\n        if (Object.keys(b).every(isNonBooleanOperator)) {\n            criteria = { temp: b };\n            format = function (x) { return ({ temp: x }); };\n        }\n        var query = new query_1.Query(criteria, options);\n        for (var i = 0, len = a.length; i < len; i++) {\n            if (query.test(format(a[i]))) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nexports.$elemMatch = $elemMatch;\n/**\n * Selects documents if a field is of the specified type.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nfunction $type(a, b, options) {\n    switch (b) {\n        case 1:\n        case 19:\n        case util_1.BsonType.DOUBLE:\n        case util_1.BsonType.DECIMAL:\n            return util_1.isNumber(a);\n        case 2:\n        case util_1.JsType.STRING:\n            return util_1.isString(a);\n        case 3:\n        case util_1.JsType.OBJECT:\n            return util_1.isObject(a);\n        case 4:\n        case util_1.JsType.ARRAY:\n            return util_1.isArray(a);\n        case 6:\n        case util_1.JsType.UNDEFINED:\n            return util_1.isNil(a);\n        case 8:\n        case util_1.JsType.BOOLEAN:\n        case util_1.BsonType.BOOL:\n            return util_1.isBoolean(a);\n        case 9:\n        case util_1.JsType.DATE:\n            return util_1.isDate(a);\n        case 10:\n        case util_1.JsType.NULL:\n            return util_1.isNull(a);\n        case 11:\n        case util_1.JsType.REGEXP:\n        case util_1.BsonType.REGEX:\n            return util_1.isRegExp(a);\n        case 16:\n        case util_1.BsonType.INT:\n            return (util_1.isNumber(a) &&\n                a >= util_1.MIN_INT &&\n                a <= util_1.MAX_INT &&\n                a.toString().indexOf(\".\") === -1);\n        case 18:\n        case util_1.BsonType.LONG:\n            return (util_1.isNumber(a) &&\n                a >= util_1.MIN_LONG &&\n                a <= util_1.MAX_LONG &&\n                a.toString().indexOf(\".\") === -1);\n        default:\n            return false;\n    }\n}\nexports.$type = $type;\nfunction compare(a, b, f) {\n    return util_1.ensureArray(a).some(function (x) { return util_1.getType(x) === util_1.getType(b) && f(x, b); });\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb, null, ret) },\n            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$facet = void 0;\nvar aggregator_1 = require(\"../../aggregator\");\nvar util_1 = require(\"../../util\");\n/**\n * Processes multiple aggregation pipelines within a single stage on the same set of input documents.\n * Enables the creation of multi-faceted aggregations capable of characterizing data across multiple dimensions, or facets, in a single stage.\n */\nfunction $facet(collection, expr, options) {\n    return collection.transform(function (array) {\n        return [\n            util_1.objectMap(expr, function (pipeline) {\n                return new aggregator_1.Aggregator(pipeline, options).run(array);\n            }),\n        ];\n    });\n}\nexports.$facet = $facet;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./and\"), exports);\n__exportStar(require(\"./nor\"), exports);\n__exportStar(require(\"./not\"), exports);\n__exportStar(require(\"./or\"), exports);\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&lang=css&\"","/**\n * @module 101/defaults\n */\n\nvar isObject = require('./is-object');\nvar isBoolean = require('./is-boolean');\nvar exists = require('./exists');\n\n/**\n * Mixes in properties from source into target when\n * the property is not a property of `target`\n * @param  {Object} [target] Mix into\n * @param  {Object} source The defaults description\n * @return {Object}        THe resulting target\n */\nmodule.exports = defaults;\n\nfunction defaults (target, source, deep) {\n  if (arguments.length === 1) {\n    source = target;\n    return function (target) {\n      return defaults(target, source);\n    };\n  } else if (isBoolean(source)) {\n    deep = source;\n    source = target;\n    return function (target) {\n      return defaults(target, source, deep);\n    };\n  }\n  target = target || {};\n  deep = deep || false;\n  if (!source) {\n    return target;\n  }\n  return reduceObject(target, source, deep);\n}\n\nfunction reduceObject (target, source, deep) {\n  return Object.keys(source).reduce(function (target, key) {\n    if (isObject(target[key]) && isObject(source[key]) && deep) {\n      reduceObject(target[key], source[key]);\n      return target;\n    }\n    target[key] = exists(target[key]) ? target[key] : source[key];\n    return target;\n  }, target);\n}\n","\"use strict\";\n/**\n * Utility constants and functions\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normalize = exports.isOperator = exports.removeValue = exports.setValue = exports.traverse = exports.filterMissing = exports.resolveGraph = exports.resolve = exports.memoize = exports.into = exports.groupBy = exports.sortBy = exports.compare = exports.hashCode = exports.unique = exports.isEqual = exports.flatten = exports.union = exports.intersection = exports.merge = exports.objectMap = exports.has = exports.ensureArray = exports.isEmpty = exports.truthy = exports.notInArray = exports.inArray = exports.isUndefined = exports.isNull = exports.isNil = exports.isFunction = exports.isRegExp = exports.isDate = exports.isObjectLike = exports.isObject = exports.isArray = exports.isNumber = exports.isString = exports.isBoolean = exports.getType = exports.cloneDeep = exports.assert = exports.BsonType = exports.JsType = exports.MIN_LONG = exports.MAX_LONG = exports.MIN_INT = exports.MAX_INT = void 0;\nexports.MAX_INT = 2147483647;\nexports.MIN_INT = -2147483648;\nexports.MAX_LONG = Number.MAX_SAFE_INTEGER;\nexports.MIN_LONG = Number.MIN_SAFE_INTEGER;\n// special value to identify missing items. treated differently from undefined\nvar MISSING = {};\nvar DEFAULT_HASH_FUNC = function (value) {\n    var s = encode(value);\n    var hash = 0;\n    var i = s.length;\n    while (i)\n        hash = ((hash << 5) - hash) ^ s.charCodeAt(--i);\n    var code = hash >>> 0;\n    return code.toString();\n};\n// Javascript native types\nvar JsType;\n(function (JsType) {\n    JsType[\"NULL\"] = \"null\";\n    JsType[\"UNDEFINED\"] = \"undefined\";\n    JsType[\"BOOLEAN\"] = \"boolean\";\n    JsType[\"NUMBER\"] = \"number\";\n    JsType[\"STRING\"] = \"string\";\n    JsType[\"DATE\"] = \"date\";\n    JsType[\"REGEXP\"] = \"regexp\";\n    JsType[\"ARRAY\"] = \"array\";\n    JsType[\"OBJECT\"] = \"object\";\n    JsType[\"FUNCTION\"] = \"function\";\n})(JsType = exports.JsType || (exports.JsType = {}));\n// MongoDB BSON types\nvar BsonType;\n(function (BsonType) {\n    BsonType[\"BOOL\"] = \"bool\";\n    BsonType[\"INT\"] = \"int\";\n    BsonType[\"LONG\"] = \"long\";\n    BsonType[\"DOUBLE\"] = \"double\";\n    BsonType[\"DECIMAL\"] = \"decimal\";\n    BsonType[\"REGEX\"] = \"regex\";\n})(BsonType = exports.BsonType || (exports.BsonType = {}));\n// no array, object, or function types\nvar JS_SIMPLE_TYPES = [\n    JsType.NULL,\n    JsType.UNDEFINED,\n    JsType.BOOLEAN,\n    JsType.NUMBER,\n    JsType.STRING,\n    JsType.DATE,\n    JsType.REGEXP,\n];\nvar OBJECT_PROTOTYPE = Object.getPrototypeOf({});\nvar OBJECT_TAG = \"[object Object]\";\nvar OBJECT_TYPE_RE = /^\\[object ([a-zA-Z0-9]+)\\]$/;\nfunction assert(condition, message) {\n    if (!condition)\n        throw new Error(message);\n}\nexports.assert = assert;\n/**\n * Deep clone an object\n */\nfunction cloneDeep(obj) {\n    if (obj instanceof Array)\n        return obj.map(cloneDeep);\n    if (obj instanceof Date)\n        return new Date(obj);\n    if (isObject(obj))\n        return objectMap(obj, cloneDeep);\n    return obj;\n}\nexports.cloneDeep = cloneDeep;\n/**\n * Returns the name of type as specified in the tag returned by a call to Object.prototype.toString\n * @param v A value\n */\nfunction getType(v) {\n    return OBJECT_TYPE_RE.exec(Object.prototype.toString.call(v))[1];\n}\nexports.getType = getType;\nfunction isBoolean(v) {\n    return typeof v === JsType.BOOLEAN;\n}\nexports.isBoolean = isBoolean;\nfunction isString(v) {\n    return typeof v === JsType.STRING;\n}\nexports.isString = isString;\nfunction isNumber(v) {\n    return !isNaN(v) && typeof v === JsType.NUMBER;\n}\nexports.isNumber = isNumber;\nexports.isArray = Array.isArray || (function (v) { return v instanceof Array; });\nfunction isObject(v) {\n    if (!v)\n        return false;\n    var proto = Object.getPrototypeOf(v);\n    return ((proto === OBJECT_PROTOTYPE || proto === null) &&\n        OBJECT_TAG === Object.prototype.toString.call(v));\n}\nexports.isObject = isObject;\nfunction isObjectLike(v) {\n    return v === Object(v);\n} // objects, arrays, functions, date, custom object\nexports.isObjectLike = isObjectLike;\nfunction isDate(v) {\n    return v instanceof Date;\n}\nexports.isDate = isDate;\nfunction isRegExp(v) {\n    return v instanceof RegExp;\n}\nexports.isRegExp = isRegExp;\nfunction isFunction(v) {\n    return typeof v === JsType.FUNCTION;\n}\nexports.isFunction = isFunction;\nfunction isNil(v) {\n    return v === null || v === undefined;\n}\nexports.isNil = isNil;\nfunction isNull(v) {\n    return v === null;\n}\nexports.isNull = isNull;\nfunction isUndefined(v) {\n    return v === undefined;\n}\nexports.isUndefined = isUndefined;\nexports.inArray = (function () {\n    // if Array.includes is not supported\n    if (!Array.prototype.includes) {\n        return function (arr, item) {\n            return isNaN(item) && !isString(item)\n                ? arr.some(function (v) { return isNaN(v) && !isString(v); })\n                : arr.indexOf(item) > -1;\n        };\n    }\n    // default\n    return function (arr, item) { return arr.includes(item); };\n})();\nfunction notInArray(arr, item) {\n    return !exports.inArray(arr, item);\n}\nexports.notInArray = notInArray;\nfunction truthy(arg) {\n    return !!arg;\n}\nexports.truthy = truthy;\nfunction isEmpty(x) {\n    return (isNil(x) ||\n        (isString(x) && !x) ||\n        (x instanceof Array && x.length === 0) ||\n        (isObject(x) && Object.keys(x).length === 0));\n}\nexports.isEmpty = isEmpty;\n// ensure a value is an array or wrapped within one\nfunction ensureArray(x) {\n    return x instanceof Array ? x : [x];\n}\nexports.ensureArray = ensureArray;\nfunction has(obj, prop) {\n    return !!obj && Object.prototype.hasOwnProperty.call(obj, prop);\n}\nexports.has = has;\n/**\n * Transform values in an object\n *\n * @param  {Object}   obj   An object whose values to transform\n * @param  {Function} fn The transform function\n * @return {Array|Object} Result object after applying the transform\n */\nfunction objectMap(obj, fn) {\n    var o = {};\n    var objKeys = Object.keys(obj);\n    for (var i = 0; i < objKeys.length; i++) {\n        var k = objKeys[i];\n        o[k] = fn(obj[k], k);\n    }\n    return o;\n}\nexports.objectMap = objectMap;\n/**\n * Deep merge objects or arrays.\n * When the inputs have unmergeable types, the source value (right hand side) is returned.\n * If inputs are arrays of same length and all elements are mergable, elements in the same position are merged together.\n * If AnyVal of the elements are unmergeable, elements in the source are appended to the target.\n * @param target {Object|Array} the target to merge into\n * @param obj {Object|Array} the source object\n */\nfunction merge(target, obj, options) {\n    // take care of missing inputs\n    if (target === MISSING)\n        return obj;\n    if (obj === MISSING)\n        return target;\n    var inputs = [target, obj];\n    if (!(inputs.every(isObject) || inputs.every(exports.isArray))) {\n        throw Error(\"mismatched types. must both be array or object\");\n    }\n    // default options\n    options = options || { flatten: false };\n    if (exports.isArray(target)) {\n        var result = target;\n        var input = obj;\n        if (options.flatten) {\n            var i = 0;\n            var j = 0;\n            while (i < result.length && j < input.length) {\n                result[i] = merge(result[i++], input[j++], options);\n            }\n            while (j < input.length) {\n                result.push(obj[j++]);\n            }\n        }\n        else {\n            Array.prototype.push.apply(result, input);\n        }\n    }\n    else {\n        Object.keys(obj).forEach(function (k) {\n            if (has(target, k)) {\n                target[k] = merge(target[k], obj[k], options);\n            }\n            else {\n                target[k] = obj[k];\n            }\n        });\n    }\n    return target;\n}\nexports.merge = merge;\n/**\n * Returns the intersection between two arrays\n *\n * @param  {Array} a The first array\n * @param  {Array} b The second array\n * @param  {Function} hashFunction Custom function to hash values, default the hashCode method\n * @return {Array}    Result array\n */\nfunction intersection(a, b, hashFunction) {\n    var flipped = false;\n    // we ensure the left array is always smallest\n    if (a.length > b.length) {\n        var t = a;\n        a = b;\n        b = t;\n        flipped = true;\n    }\n    var maxSize = Math.max(a.length, b.length);\n    var maxResult = Math.min(a.length, b.length);\n    var lookup = a.reduce(function (memo, v, i) {\n        memo[hashCode(v, hashFunction)] = i;\n        return memo;\n    }, {});\n    var indexes = new Array();\n    for (var i = 0, j = 0; i < maxSize && j < maxResult; i++) {\n        var k = lookup[hashCode(b[i], hashFunction)];\n        if (k !== undefined) {\n            indexes.push(k);\n            j++;\n        }\n    }\n    // unless we flipped the arguments we must sort the indexes to keep stability\n    if (!flipped)\n        indexes.sort();\n    return indexes.map(function (i) { return a[i]; });\n}\nexports.intersection = intersection;\n/**\n * Returns the union of two arrays\n *\n * @param  {Array} xs The first array\n * @param  {Array} ys The second array\n * @return {Array}   The result array\n */\nfunction union(xs, ys) {\n    var result = [];\n    var filtered = ys.filter(notInArray.bind(null, xs));\n    into(result, xs);\n    into(result, filtered);\n    return result;\n}\nexports.union = union;\n/**\n * Flatten the array\n *\n * @param  {Array} xs The array to flatten\n * @param {Number} depth The number of nested lists to iterate\n */\nfunction flatten(xs, depth) {\n    var arr = [];\n    function flatten2(ys, n) {\n        for (var i = 0, len = ys.length; i < len; i++) {\n            if (exports.isArray(ys[i]) && (n > 0 || n < 0)) {\n                flatten2(ys[i], Math.max(-1, n - 1));\n            }\n            else {\n                arr.push(ys[i]);\n            }\n        }\n    }\n    flatten2(xs, depth);\n    return arr;\n}\nexports.flatten = flatten;\n/**\n * Determine whether two values are the same or strictly equivalent\n *\n * @param  {*}  a The first value\n * @param  {*}  b The second value\n * @return {Boolean}   Result of comparison\n */\nfunction isEqual(a, b) {\n    var lhs = [a];\n    var rhs = [b];\n    while (lhs.length > 0) {\n        a = lhs.pop();\n        b = rhs.pop();\n        // strictly equal must be equal.\n        if (a === b)\n            continue;\n        // unequal types and functions cannot be equal.\n        var nativeType = getType(a).toLowerCase();\n        if (nativeType !== getType(b).toLowerCase() ||\n            nativeType === JsType.FUNCTION) {\n            return false;\n        }\n        // leverage toString for Date and RegExp types\n        if (nativeType === JsType.ARRAY) {\n            var xs = a;\n            var ys = b;\n            if (xs.length !== ys.length)\n                return false;\n            if (xs.length === ys.length && xs.length === 0)\n                continue;\n            into(lhs, xs);\n            into(rhs, ys);\n        }\n        else if (nativeType === JsType.OBJECT) {\n            // deep compare objects\n            var ka = Object.keys(a);\n            var kb = Object.keys(b);\n            // check length of keys early\n            if (ka.length !== kb.length)\n                return false;\n            // we know keys are strings so we sort before comparing\n            ka.sort();\n            kb.sort();\n            // compare keys\n            for (var i = 0, len = ka.length; i < len; i++) {\n                var tempKey = ka[i];\n                if (tempKey !== kb[i]) {\n                    return false;\n                }\n                else {\n                    // save later work\n                    lhs.push(a[tempKey]);\n                    rhs.push(b[tempKey]);\n                }\n            }\n        }\n        else {\n            // compare encoded values\n            if (encode(a) !== encode(b))\n                return false;\n        }\n    }\n    return lhs.length === 0;\n}\nexports.isEqual = isEqual;\n/**\n * Return a new unique version of the collection\n * @param  {Array} xs The input collection\n * @return {Array}    A new collection with unique values\n */\nfunction unique(xs, hashFunction) {\n    var h = {};\n    var arr = [];\n    for (var _i = 0, xs_1 = xs; _i < xs_1.length; _i++) {\n        var item = xs_1[_i];\n        var k = hashCode(item, hashFunction);\n        if (!has(h, k)) {\n            arr.push(item);\n            h[k] = 0;\n        }\n    }\n    return arr;\n}\nexports.unique = unique;\n/**\n * Encode value to string using a simple non-colliding stable scheme.\n *\n * @param value\n * @returns {*}\n */\nfunction encode(value) {\n    var type = getType(value).toLowerCase();\n    switch (type) {\n        case JsType.BOOLEAN:\n        case JsType.NUMBER:\n        case JsType.REGEXP:\n            return value.toString();\n        case JsType.STRING:\n            return JSON.stringify(value);\n        case JsType.DATE:\n            return value.toISOString();\n        case JsType.NULL:\n        case JsType.UNDEFINED:\n            return type;\n        case JsType.ARRAY:\n            return \"[\" + value.map(encode).join(\",\") + \"]\";\n        default:\n            break;\n    }\n    // default case\n    var prefix = type === JsType.OBJECT ? \"\" : \"\" + getType(value);\n    var objKeys = Object.keys(value);\n    objKeys.sort();\n    return (prefix + \"{\" +\n        objKeys.map(function (k) { return encode(k) + \":\" + encode(value[k]); }).join(\",\") +\n        \"}\");\n}\n/**\n * Generate hash code\n * This selected function is the result of benchmarking various hash functions.\n * This version performs well and can hash 10^6 documents in ~3s with on average 100 collisions.\n *\n * @param value\n * @returns {number|null}\n */\nfunction hashCode(value, hashFunction) {\n    if (hashFunction === void 0) { hashFunction = DEFAULT_HASH_FUNC; }\n    if (isNil(value))\n        return null;\n    return hashFunction(value);\n}\nexports.hashCode = hashCode;\n/**\n * Default compare function\n * @param {*} a\n * @param {*} b\n */\nfunction compare(a, b) {\n    if (a < b)\n        return -1;\n    if (a > b)\n        return 1;\n    return 0;\n}\nexports.compare = compare;\n/**\n * Returns a (stably) sorted copy of list, ranked in ascending order by the results of running each value through iteratee\n *\n * This implementation treats null/undefined sort keys as less than every other type\n *\n * @param {Array}   collection\n * @param {Function} keyFn The sort key function used to resolve sort keys\n * @param {Function} comparator The comparator function to use for comparing keys. Defaults to standard comparison via `compare(...)`\n * @return {Array} Returns a new sorted array by the given key and comparator function\n */\nfunction sortBy(collection, keyFn, comparator) {\n    var sorted = new Array();\n    var result = new Array();\n    var hash = {};\n    comparator = comparator || compare;\n    if (isEmpty(collection))\n        return collection;\n    for (var i = 0; i < collection.length; i++) {\n        var obj = collection[i];\n        var key = keyFn(obj, i);\n        // objects with nil keys will go in first\n        if (isNil(key)) {\n            result.push(obj);\n        }\n        else {\n            // null suffix to differentiate string keys from native object properties\n            if (isString(key))\n                key += \"\\0\";\n            if (hash[key]) {\n                hash[key].push(obj);\n            }\n            else {\n                hash[key] = [obj];\n            }\n            sorted.push(key);\n        }\n    }\n    // use native array sorting but enforce stableness\n    sorted.sort(comparator);\n    for (var i = 0; i < sorted.length; i++) {\n        into(result, hash[sorted[i]]);\n    }\n    return result;\n}\nexports.sortBy = sortBy;\n/**\n * Groups the collection into sets by the returned key\n *\n * @param collection\n * @param keyFn {Function} to compute the group key of an item in the collection\n * @returns {{keys: Array, groups: Array}}\n */\nfunction groupBy(collection, keyFn, hashFunction) {\n    var result = {\n        keys: new Array(),\n        groups: new Array(),\n    };\n    var lookup = {};\n    for (var _i = 0, collection_1 = collection; _i < collection_1.length; _i++) {\n        var obj = collection_1[_i];\n        var key = keyFn(obj);\n        var hash = hashCode(key, hashFunction);\n        var index = -1;\n        if (lookup[hash] === undefined) {\n            index = result.keys.length;\n            lookup[hash] = index;\n            result.keys.push(key);\n            result.groups.push([]);\n        }\n        index = lookup[hash];\n        result.groups[index].push(obj);\n    }\n    return result;\n}\nexports.groupBy = groupBy;\n// max elements to push.\n// See argument limit https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply\nvar MAX_ARRAY_PUSH = 50000;\n/**\n * Merge elements into the dest\n *\n * @param {*} target The target object\n * @param {*} rest The array of elements to merge into dest\n */\nfunction into(target) {\n    var rest = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        rest[_i - 1] = arguments[_i];\n    }\n    if (target instanceof Array) {\n        return rest.reduce(function (acc, arr) {\n            // push arrary in batches to handle large inputs\n            var i = Math.ceil(arr.length / MAX_ARRAY_PUSH);\n            var begin = 0;\n            while (i-- > 0) {\n                Array.prototype.push.apply(acc, arr.slice(begin, begin + MAX_ARRAY_PUSH));\n                begin += MAX_ARRAY_PUSH;\n            }\n            return acc;\n        }, target);\n    }\n    else if (isObject(target)) {\n        // merge objects. same behaviour as Object.assign\n        return rest.filter(isObjectLike).reduce(function (acc, item) {\n            Object.assign(acc, item);\n            return acc;\n        }, target);\n    }\n    return null;\n}\nexports.into = into;\n/**\n * This is a generic memoization function\n *\n * This implementation uses a cache independent of the function being memoized\n * to allow old values to be garbage collected when the memoized function goes out of scope.\n *\n * @param {*} fn The function object to memoize\n */\nfunction memoize(fn, hashFunction) {\n    var _this = this;\n    return (function (memo) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var key = hashCode(args, hashFunction);\n            if (!has(memo, key)) {\n                memo[key] = fn.apply(_this, args);\n            }\n            return memo[key];\n        };\n    })({\n    /* storage */\n    });\n}\nexports.memoize = memoize;\n// mingo internal\n/**\n * Retrieve the value of a given key on an object\n * @param obj\n * @param key\n * @returns {*}\n * @private\n */\nfunction getValue(obj, key) {\n    return isObjectLike(obj) ? obj[key] : undefined;\n}\n/**\n * Unwrap a single element array to specified depth\n * @param {Array} arr\n * @param {Number} depth\n */\nfunction unwrap(arr, depth) {\n    if (depth < 1)\n        return arr;\n    while (depth-- && arr.length === 1)\n        arr = arr[0];\n    return arr;\n}\n/**\n * Resolve the value of the field (dot separated) on the given object\n * @param obj {Object} the object context\n * @param selector {String} dot separated path to field\n * @returns {*}\n */\nfunction resolve(obj, selector, options) {\n    var depth = 0;\n    // options\n    options = options || { unwrapArray: false };\n    function resolve2(o, path) {\n        var value = o;\n        var _loop_1 = function (i) {\n            var field = path[i];\n            var isText = /^\\d+$/.exec(field) === null;\n            // using instanceof to aid typescript compiler\n            if (isText && value instanceof Array) {\n                // On the first iteration, we check if we received a stop flag.\n                // If so, we stop to prevent iterating over a nested array value\n                // on consecutive object keys in the selector.\n                if (i === 0 && depth > 0)\n                    return \"break\";\n                depth += 1;\n                // only look at the rest of the path\n                var subpath_1 = path.slice(i);\n                value = value.reduce(function (acc, item) {\n                    var v = resolve2(item, subpath_1);\n                    if (v !== undefined)\n                        acc.push(v);\n                    return acc;\n                }, []);\n                return \"break\";\n            }\n            else {\n                value = getValue(value, field);\n            }\n            if (value === undefined)\n                return \"break\";\n        };\n        for (var i = 0; i < path.length; i++) {\n            var state_1 = _loop_1(i);\n            if (state_1 === \"break\")\n                break;\n        }\n        return value;\n    }\n    var result = exports.inArray(JS_SIMPLE_TYPES, getType(obj).toLowerCase())\n        ? obj\n        : resolve2(obj, selector.split(\".\"));\n    return result instanceof Array && options.unwrapArray\n        ? unwrap(result, depth)\n        : result;\n}\nexports.resolve = resolve;\n/**\n * Returns the full object to the resolved value given by the selector.\n * This function excludes empty values as they aren't practically useful.\n *\n * @param obj {Object} the object context\n * @param selector {String} dot separated path to field\n */\nfunction resolveGraph(obj, selector, options) {\n    // options\n    if (options === undefined) {\n        options = { preserveMissing: false };\n    }\n    var names = selector.split(\".\");\n    var key = names[0];\n    // get the next part of the selector\n    var next = names.slice(1).join(\".\");\n    var isIndex = /^\\d+$/.exec(key) !== null;\n    var hasNext = names.length > 1;\n    var result;\n    var value;\n    if (obj instanceof Array) {\n        if (isIndex) {\n            result = getValue(obj, Number(key));\n            if (hasNext) {\n                result = resolveGraph(result, next, options);\n            }\n            result = [result];\n        }\n        else {\n            result = [];\n            for (var _i = 0, obj_1 = obj; _i < obj_1.length; _i++) {\n                var item = obj_1[_i];\n                value = resolveGraph(item, selector, options);\n                if (options.preserveMissing) {\n                    if (value === undefined) {\n                        value = MISSING;\n                    }\n                    result.push(value);\n                }\n                else if (value !== undefined) {\n                    result.push(value);\n                }\n            }\n        }\n    }\n    else {\n        value = getValue(obj, key);\n        if (hasNext) {\n            value = resolveGraph(value, next, options);\n        }\n        if (value === undefined)\n            return undefined;\n        result = {};\n        result[key] = value;\n    }\n    return result;\n}\nexports.resolveGraph = resolveGraph;\n/**\n * Filter out all MISSING values from the object in-place\n *\n * @param obj The object to filter\n */\nfunction filterMissing(obj) {\n    if (obj instanceof Array) {\n        for (var i = obj.length - 1; i >= 0; i--) {\n            if (obj[i] === MISSING) {\n                obj.splice(i, 1);\n            }\n            else {\n                filterMissing(obj[i]);\n            }\n        }\n    }\n    else if (isObject(obj)) {\n        for (var k in obj) {\n            if (has(obj, k)) {\n                filterMissing(obj[k]);\n            }\n        }\n    }\n}\nexports.filterMissing = filterMissing;\n/**\n * Walk the object graph and execute the given transform function\n *\n * @param  {Object|Array} obj   The object to traverse\n * @param  {String} selector    The selector\n * @param  {Function} fn Function to execute for value at the end the traversal\n * @param  {Boolean} force Force generating missing parts of object graph\n * @return {*}\n */\nfunction traverse(obj, selector, fn, force) {\n    var names = selector.split(\".\");\n    var key = names[0];\n    var next = names.slice(1).join(\".\");\n    if (names.length === 1) {\n        fn(obj, key);\n    }\n    else {\n        // force the rest of the graph while traversing\n        if (force === true && isNil(obj[key])) {\n            obj[key] = {};\n        }\n        traverse(obj[key], next, fn, force);\n    }\n}\nexports.traverse = traverse;\n/**\n * Set the value of the given object field\n *\n * @param obj {Object|Array} the object context\n * @param selector {String} path to field\n * @param value {*} the value to set\n */\nfunction setValue(obj, selector, value) {\n    traverse(obj, selector, function (item, key) {\n        item[key] = value;\n    }, true);\n}\nexports.setValue = setValue;\n/**\n * Removes an element from the container.\n * If the selector resolves to an array and the leaf is a non-numeric key,\n * the remove operation will be performed on objects of the array.\n *\n * @param obj {Container} object or array\n * @param selector {String} dot separated path to element to remove\n */\nfunction removeValue(obj, selector) {\n    traverse(obj, selector, function (item, key) {\n        if (item instanceof Array) {\n            if (/^\\d+$/.test(key)) {\n                item.splice(parseInt(key), 1);\n            }\n            else {\n                for (var _i = 0, item_1 = item; _i < item_1.length; _i++) {\n                    var elem = item_1[_i];\n                    if (isObject(elem)) {\n                        delete elem[key];\n                    }\n                }\n            }\n        }\n        else if (isObject(item)) {\n            delete item[key];\n        }\n    });\n}\nexports.removeValue = removeValue;\nvar OPERATOR_NAME_PATTERN = /^\\$[a-zA-Z0-9_]+$/;\n/**\n * Check whether the given name passes for an operator. We assume AnyVal field name starting with '$' is an operator.\n * This is cheap and safe to do since keys beginning with '$' should be reserved for internal use.\n * @param {String} name\n */\nfunction isOperator(name) {\n    return OPERATOR_NAME_PATTERN.test(name);\n}\nexports.isOperator = isOperator;\n/**\n * Simplify expression for easy evaluation with query operators map\n * @param expr\n * @returns {*}\n */\nfunction normalize(expr) {\n    // normalized primitives\n    if (exports.inArray(JS_SIMPLE_TYPES, getType(expr).toLowerCase())) {\n        return isRegExp(expr) ? { $regex: expr } : { $eq: expr };\n    }\n    // normalize object expression. using ObjectLike handles custom types\n    if (isObjectLike(expr)) {\n        // no valid query operator found, so we do simple comparison\n        if (!Object.keys(expr).some(isOperator)) {\n            return { $eq: expr };\n        }\n        // ensure valid regex\n        if (has(expr, \"$regex\")) {\n            expr[\"$regex\"] = new RegExp(expr[\"$regex\"], expr[\"$options\"]);\n            delete expr[\"$options\"];\n        }\n    }\n    return expr;\n}\nexports.normalize = normalize;\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.es/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","\"use strict\";\n// Query Logical Operators: https://docs.mongodb.com/manual/reference/operator/query-logical/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$nor = void 0;\nvar util_1 = require(\"../../../util\");\nvar or_1 = require(\"./or\");\n/**\n * Joins query clauses with a logical NOR returns all documents that fail to match both clauses.\n *\n * @param selector\n * @param value\n * @returns {Function}\n */\nfunction $nor(selector, value, options) {\n    util_1.assert(util_1.isArray(value), \"Invalid expression. $nor expects value to be an Array\");\n    var f = or_1.$or(\"$or\", value, options);\n    return function (obj) { return !f(obj); };\n}\nexports.$nor = $nor;\n","var escRE = require('escape-string-regexp')\nvar exists = require('101/exists')\nvar defaults = require('101/defaults')\nvar debug = require('debug')('keypather:reducer')\nvar stringReduce = require('string-reduce')\n\nvar normalizedKeypath = require('./normalized-keypath')\nvar syntaxErrMessage = require('./error-messages/keypath-syntax')\n\nmodule.exports = keypatherReducer\n\nfunction keypatherReducer (state, operation, opts) {\n  debug('keypather %O %O', state, opts)\n  opts = opts || {}\n  defaults(opts, {\n    delimeter: '.',\n    force: true,\n    overwritePrimitives: true,\n    silent: false\n  })\n  var dot = opts.delimeter\n  var keyStartRegex = new RegExp('[' + escRE(opts.delimeter) + '\\\\[]')\n  var initialState = {\n    ctx: state.ctx,\n    parentCtx: state.parentCtx || null,\n    rootCtx: state.ctx,\n    // static args\n    keypath: state.keypath,\n    val: state.val,\n    // loop state\n    i: null,\n    character: null,\n    lastCharacter: null,\n    // position state\n    keypathSplit: state.keypathSplit || [],\n    _normalizedKeypathCache: {},\n    normalizedKeypath: function (keypathSplit) {\n      keypathSplit = keypathSplit || this.keypathSplit\n      var len = keypathSplit.length\n      this._normalizedKeypathCache[len] =\n        this._normalizedKeypathCache[len] ||\n        normalizedKeypath(keypathSplit)\n      if (len > 2) {\n        // only keep one extra normalized kp in cache\n        delete this._normalizedKeypathCache[len - 2]\n      }\n      return this._normalizedKeypathCache[len]\n    },\n    keyStart: null,\n    keyEnd: null,\n    insideBracket: false,\n    insideBracketNumber: false,\n    insideBracketString: false,\n    quoteCharacter: null,\n    // operation state\n    createOperation: state.createOperation || {\n      createdKeypaths: {\n        /* <normalizedKeypath>: true */\n      }\n    }\n  }\n  state = stringReduce(state.keypath, reducer, initialState)\n  state = reducer(state, 'END', state.keypath.length, initialState.keypath)\n  function reducer (state, character, i, keypath) {\n    var key\n    var endFound\n    state.i = i\n    state.lastLastCharacter = keypath.charAt(i - 2)\n    state.lastCharacter = state.character\n    state.character = character\n    debug('step %O %O %O', character, state, i)\n    if (state.closedBracket) {\n      endFound = character === 'END' || keyStartRegex.test(character)\n      if (!endFound) throw new Error(syntaxErrMessage(state, 'invalid bracket key'))\n      state.closedBracket = false\n      state.insideBracket = character === '['\n    } else if (state.insideBracketString) {\n      // state: inside bracket\n      state.keyStart = state.keyStart || i\n      // greedily check for key end, by checking for next section start\n      // unfortunately this is the best I could come up with w/out being\n      // able to check for escaped chars in js\n      endFound = character === 'END' || keyStartRegex.test(character)\n      debug('insideBracketString %O %O %O', character, endFound, state.lastCharacter === ']', state.lastLastCharacter === state.quoteCharacter)\n      if (!endFound) return state\n      if (state.lastCharacter !== ']') {\n        if (character === 'END') throw new Error(syntaxErrMessage(state, 'invalid bracket string key'))\n        return state\n      }\n      if (state.lastLastCharacter !== state.quoteCharacter) {\n        if (character === 'END') throw new Error(syntaxErrMessage(state, 'invalid bracket string key'))\n        return state\n      }\n      // state: closed bracket\n      state.keyEnd = i - 2\n      if (state.keyStart > state.keyEnd) throw new Error(syntaxErrMessage(state, 'invalid bracket string key', state.i - 1))\n      // state: inside bracket, closed string\n      key = keypath.substring(state.keyStart, state.keyEnd)\n      debug('handleKey bracket-string %O %O %O', key, state.ctx, character, state.keyStart, state.keyEnd, state.i)\n      handleKey(operation, key, state, opts)\n      state.insideBracket = state.character === '['\n      state.insideBracketString = false\n      state.quoteCharacter = null\n    } else if (state.insideBracketNumber) {\n      // state: inside bracket, inside number\n      if (!/^[0-9\\]]$/.test(character)) throw new Error(syntaxErrMessage(state, 'invalid bracket number key'))\n      if (character === ']') {\n        // state: closed bracket number\n        state.keyEnd = i\n        key = keypath.substring(state.keyStart, state.keyEnd)\n        key = parseInt(key, 10)\n        // not necesary bc regex above:\n        // if (isNaN(key)) throw new Error(syntaxErrMessage(state, 'invalid bracket number key'))\n        debug('handleKey bracket-number %O %O %O', key, state.ctx, character)\n        handleKey(operation, key, state, opts)\n        state.insideBracket = false\n        state.insideBracketNumber = false\n        state.closedBracket = true\n      }\n    } else if (state.insideBracket) {\n      // state: inside bracket\n      if (/^[\"']$/.test(character)) {\n        // inside bracket string start\n        state.insideBracketString = true\n        state.quoteCharacter = character\n      } else if (/^[0-9]$/.test(character)) {\n        // inside bracket number start\n        state.insideBracketNumber = true\n        state.keyStart = i\n      } else {\n        throw new Error(syntaxErrMessage(state, 'invalid bracket key'))\n      }\n    } else {\n      if (character === 'END') {\n        // state: keypath end\n        if (state.lastCharacter === '.') throw new Error(syntaxErrMessage(state, 'invalid dot key'))\n        if (!exists(state.keyStart)) return state\n        // hack: follow dot path\n        character = dot\n      }\n      if (character === dot) {\n        if (!exists(state.keyStart)) throw new Error(syntaxErrMessage(state, 'invalid dot key'))\n        // state: key end\n        state.keyEnd = state.keyEnd || i\n        key = keypath.substring(state.keyStart, state.keyEnd)\n        debug('handleKey dot %O %O %O', key, state.ctx, character)\n        handleKey(operation, key, state, opts)\n        // state: dot key start\n      } else if (character === '[') {\n        if (i !== 0 && state.lastCharacter !== ']') {\n          // state: dot key end\n          if (!exists(state.keyStart)) throw new Error(syntaxErrMessage(state, 'invalid dot key'))\n          state.keyEnd = state.keyEnd || i\n          key = keypath.substring(state.keyStart, state.keyEnd)\n          debug('handleKey pre-bracket %O %O %O', key, state.ctx, character)\n          handleKey(operation, key, state, opts)\n        } // else bracket key start after bracket\n        // state: bracket key start\n        state.insideBracket = true\n        state.closedBracket = false\n      } else {\n        if (exists(state.keyStart)) {\n          // state: dot key continue\n          if (!/^[A-Za-z0-9_$]$/.test(character)) throw new Error(syntaxErrMessage(state, 'invalid dot key'))\n        } else {\n          // state: dot key start\n          state.keyStart = i\n          if (!/^[A-Za-z_$]$/.test(character)) throw new Error(syntaxErrMessage(state, 'invalid dot key'))\n        }\n      }\n    }\n    return state\n  }\n  return state.ctx\n}\n\nfunction handleKey (operation, key, state, opts) {\n  debug(handleKey, key)\n  var nextCtx = operation(state.ctx, key, state, opts)\n  state.parentCtx = state.ctx\n  state.ctx = nextCtx\n  state.keyStart = null\n  state.keyEnd = null\n  state.keypathSplit.push(key)\n  debug('NEXT %O', {\n    parentCtx: state.parentCtx,\n    ctx: state.ctx,\n    keyStart: state.keyStart,\n    keyEnd: state.keyEnd,\n    keypathSplit: state.keypathSplit\n  })\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./expr\"), exports);\n__exportStar(require(\"./mod\"), exports);\n__exportStar(require(\"./regex\"), exports);\n// $where operator is not included by default\n","/**\n * @module 101/is-boolean\n */\n\n/**\n * Functional version of val typeof 'boolean'\n * @function module:101/is-boolean\n * @param {*} val - value checked to be a boolean\n * @return {boolean} Whether the value is a boolean or not\n */\nmodule.exports = isBoolean;\n\nfunction isBoolean (val) {\n  return typeof val === 'boolean';\n}","\"use strict\";\n// Array Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#array-expression-operators\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$slice = void 0;\nvar core_1 = require(\"../../../core\");\nvar util_1 = require(\"../../../util\");\n/**\n * Returns a subset of an array.\n *\n * @param  {Object} obj\n * @param  {*} expr\n * @return {*}\n */\nfunction $slice(obj, expr, options) {\n    var args = core_1.computeValue(obj, expr, null, options);\n    var arr = args[0];\n    var skip = args[1];\n    var limit = args[2];\n    // MongoDB $slice works a bit differently from Array.slice\n    // Uses single argument for 'limit' and array argument [skip, limit]\n    if (util_1.isNil(limit)) {\n        if (skip < 0) {\n            skip = Math.max(0, arr.length + skip);\n            limit = arr.length - skip + 1;\n        }\n        else {\n            limit = skip;\n            skip = 0;\n        }\n    }\n    else {\n        if (skip < 0) {\n            skip = Math.max(0, arr.length + skip);\n        }\n        util_1.assert(limit > 0, \"Invalid argument for $slice operator. Limit must be a positive number\");\n        limit += skip;\n    }\n    return arr.slice(skip, limit);\n}\nexports.$slice = $slice;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./and\"), exports);\n__exportStar(require(\"./not\"), exports);\n__exportStar(require(\"./or\"), exports);\n","\"use strict\";\n// Query Evaluation Operators: https://docs.mongodb.com/manual/reference/operator/query-evaluation/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$regex = void 0;\nvar _predicates_1 = require(\"../../_predicates\");\n/**\n * Selects documents where values match a specified regular expression.\n */\nexports.$regex = _predicates_1.createQueryOperator(_predicates_1.$regex);\n","\"use strict\";\n// Query Array Operators: https://docs.mongodb.com/manual/reference/operator/query-array/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$elemMatch = void 0;\nvar _predicates_1 = require(\"../../_predicates\");\n/**\n * Selects documents if element in the array field matches all the specified $elemMatch conditions.\n */\nexports.$elemMatch = _predicates_1.createQueryOperator(_predicates_1.$elemMatch);\n","\"use strict\";\n// $elemMatch operator. https://docs.mongodb.com/manual/reference/operator/projection/elemMatch/#proj._S_elemMatch\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$elemMatch = void 0;\nvar query_1 = require(\"../../query\");\nvar util_1 = require(\"../../util\");\n/**\n * Projects only the first element from an array that matches the specified $elemMatch condition.\n *\n * @param obj\n * @param field\n * @param expr\n * @returns {*}\n */\nfunction $elemMatch(obj, expr, field, options) {\n    var arr = util_1.resolve(obj, field);\n    var query = new query_1.Query(expr, options);\n    util_1.assert(arr instanceof Array, \"$elemMatch: argument must resolve to array\");\n    for (var i = 0; i < arr.length; i++) {\n        if (query.test(arr[i]))\n            return [arr[i]];\n    }\n    return undefined;\n}\nexports.$elemMatch = $elemMatch;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$limit = void 0;\n/**\n * Restricts the number of documents in an aggregation pipeline.\n *\n * @param collection\n * @param value\n * @param options\n * @returns {Object|*}\n */\nfunction $limit(collection, expr, options) {\n    return collection.take(expr);\n}\nexports.$limit = $limit;\n","\"use strict\";\n// Query Logical Operators: https://docs.mongodb.com/manual/reference/operator/query-logical/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$and = void 0;\nvar query_1 = require(\"../../../query\");\nvar util_1 = require(\"../../../util\");\n/**\n * Joins query clauses with a logical AND returns all documents that match the conditions of both clauses.\n *\n * @param selector\n * @param value\n * @returns {Function}\n */\nfunction $and(selector, value, options) {\n    util_1.assert(util_1.isArray(value), \"Invalid expression: $and expects value to be an Array\");\n    var queries = new Array();\n    value.forEach(function (expr) { return queries.push(new query_1.Query(expr, options)); });\n    return function (obj) {\n        for (var i = 0; i < queries.length; i++) {\n            if (!queries[i].test(obj)) {\n                return false;\n            }\n        }\n        return true;\n    };\n}\nexports.$and = $and;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$bucketAuto = void 0;\nvar core_1 = require(\"../../core\");\nvar util_1 = require(\"../../util\");\n/**\n * Categorizes incoming documents into a specific number of groups, called buckets,\n * based on a specified expression. Bucket boundaries are automatically determined\n * in an attempt to evenly distribute the documents into the specified number of buckets.\n * https://docs.mongodb.com/manual/reference/operator/aggregation/bucketAuto/\n *\n * @param {*} collection\n * @param {*} expr\n * @param {*} options\n */\nfunction $bucketAuto(collection, expr, options) {\n    var outputExpr = expr.output || { count: { $sum: 1 } };\n    var groupByExpr = expr.groupBy;\n    var bucketCount = expr.buckets;\n    util_1.assert(bucketCount > 0, \"The $bucketAuto 'buckets' field must be greater than 0, but found: \" + bucketCount);\n    var ID_KEY = \"_id\";\n    return collection.transform(function (coll) {\n        var approxBucketSize = Math.max(1, Math.round(coll.length / bucketCount));\n        var computeValueOptimized = util_1.memoize(core_1.computeValue, options === null || options === void 0 ? void 0 : options.hashFunction);\n        var grouped = {};\n        var remaining = [];\n        var sorted = util_1.sortBy(coll, function (o) {\n            var key = computeValueOptimized(o, groupByExpr, null, options);\n            if (util_1.isNil(key)) {\n                remaining.push(o);\n            }\n            else {\n                grouped[key] || (grouped[key] = []);\n                grouped[key].push(o);\n            }\n            return key;\n        });\n        var result = [];\n        var index = 0; // counter for sorted collection\n        for (var i = 0, len = sorted.length; i < bucketCount && index < len; i++) {\n            var boundaries = {};\n            var bucketItems = [];\n            for (var j = 0; j < approxBucketSize && index < len; j++) {\n                var key = computeValueOptimized(sorted[index], groupByExpr, null, options);\n                if (util_1.isNil(key))\n                    key = null;\n                // populate current bucket with all values for current key\n                util_1.into(bucketItems, util_1.isNil(key) ? remaining : grouped[key]);\n                // increase sort index by number of items added\n                index += util_1.isNil(key) ? remaining.length : grouped[key].length;\n                // set the min key boundary if not already present\n                if (!util_1.has(boundaries, \"min\"))\n                    boundaries.min = key;\n                if (result.length > 0) {\n                    var lastBucket = result[result.length - 1];\n                    lastBucket[ID_KEY].max = boundaries.min;\n                }\n            }\n            // if is last bucket add remaining items\n            if (i == bucketCount - 1) {\n                util_1.into(bucketItems, sorted.slice(index));\n            }\n            var values = core_1.computeValue(bucketItems, outputExpr, null, options);\n            result.push(util_1.into(values, {\n                _id: boundaries,\n            }));\n        }\n        if (result.length > 0) {\n            result[result.length - 1][ID_KEY].max = computeValueOptimized(sorted[sorted.length - 1], groupByExpr, null, options);\n        }\n        return result;\n    });\n}\nexports.$bucketAuto = $bucketAuto;\n","/**\n * Functional version of a strict object check (Arrays and RegExps are not objects)\n * @module 101/is-object\n */\n\n/**\n * @function module:101/is-object\n * @param {*} val - value checked to be an object\n * @return {boolean} Whether the value is an object or not\n */\nvar exists = require('./exists');\n\nmodule.exports = isObject;\n\nfunction isObject (val) {\n  return typeof val === 'object' &&\n    exists(val) &&\n    !Array.isArray(val) &&\n    !(val instanceof RegExp) &&\n    !(val instanceof String) &&\n    !(val instanceof Number);\n}","\"use strict\";\n// Query Evaluation Operators: https://docs.mongodb.com/manual/reference/operator/query-evaluation/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$expr = void 0;\nvar core_1 = require(\"../../../core\");\n/**\n * Allows the use of aggregation expressions within the query language.\n *\n * @param selector\n * @param value\n * @returns {Function}\n */\nfunction $expr(selector, value, options) {\n    return function (obj) { return core_1.computeValue(obj, value, null, options); };\n}\nexports.$expr = $expr;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$sort = void 0;\nvar util_1 = require(\"../../util\");\n/**\n * Takes all input documents and returns them in a stream of sorted documents.\n *\n * @param collection\n * @param sortKeys\n * @param  {Object} options\n * @returns {*}\n */\nfunction $sort(collection, sortKeys, options) {\n    if (util_1.isEmpty(sortKeys) || !util_1.isObject(sortKeys))\n        return collection;\n    var cmp = util_1.compare;\n    // check for collation spec on the options\n    var collationSpec = options.collation;\n    // use collation comparator if provided\n    if (util_1.isObject(collationSpec) && util_1.isString(collationSpec.locale)) {\n        cmp = collationComparator(collationSpec);\n    }\n    return collection.transform(function (coll) {\n        var modifiers = Object.keys(sortKeys);\n        var _loop_1 = function (key) {\n            var grouped = util_1.groupBy(coll, function (obj) { return util_1.resolve(obj, key); }, options === null || options === void 0 ? void 0 : options.hashFunction);\n            var sortedIndex = {};\n            var indexKeys = util_1.sortBy(grouped.keys, function (k, i) {\n                sortedIndex[k] = i;\n                return k;\n            }, cmp);\n            if (sortKeys[key] === -1)\n                indexKeys.reverse();\n            coll = [];\n            for (var _i = 0, indexKeys_1 = indexKeys; _i < indexKeys_1.length; _i++) {\n                var k = indexKeys_1[_i];\n                util_1.into(coll, grouped.groups[sortedIndex[k]]);\n            }\n        };\n        for (var _i = 0, _a = modifiers.reverse(); _i < _a.length; _i++) {\n            var key = _a[_i];\n            _loop_1(key);\n        }\n        return coll;\n    });\n}\nexports.$sort = $sort;\n// MongoDB collation strength to JS localeCompare sensitivity mapping.\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare\nvar COLLATION_STRENGTH = {\n    // Only strings that differ in base letters compare as unequal. Examples: a ≠ b, a = á, a = A.\n    1: \"base\",\n    //  Only strings that differ in base letters or accents and other diacritic marks compare as unequal.\n    // Examples: a ≠ b, a ≠ á, a = A.\n    2: \"accent\",\n    // Strings that differ in base letters, accents and other diacritic marks, or case compare as unequal.\n    // Other differences may also be taken into consideration. Examples: a ≠ b, a ≠ á, a ≠ A\n    3: \"variant\",\n};\n/**\n * Creates a comparator function for the given collation spec. See https://docs.mongodb.com/manual/reference/collation/\n *\n * @param spec {Object} The MongoDB collation spec.\n * {\n *   locale: string,\n *   caseLevel: boolean,\n *   caseFirst: string,\n *   strength: int,\n *   numericOrdering: boolean,\n *   alternate: string,\n *   maxVariable: string, // unsupported\n *   backwards: boolean // unsupported\n * }\n */\nfunction collationComparator(spec) {\n    var localeOpt = {\n        sensitivity: COLLATION_STRENGTH[spec.strength || 3],\n        caseFirst: spec.caseFirst === \"off\" ? \"false\" : spec.caseFirst || \"false\",\n        numeric: spec.numericOrdering || false,\n        ignorePunctuation: spec.alternate === \"shifted\",\n    };\n    // when caseLevel is true for strength  1:base and 2:accent, bump sensitivity to the nearest that supports case comparison\n    if ((spec.caseLevel || false) === true) {\n        if (localeOpt.sensitivity === \"base\")\n            localeOpt.sensitivity = \"case\";\n        if (localeOpt.sensitivity === \"accent\")\n            localeOpt.sensitivity = \"variant\";\n    }\n    var collator = new Intl.Collator(spec.locale, localeOpt);\n    return function (a, b) {\n        // non strings\n        if (!util_1.isString(a) || !util_1.isString(b))\n            return util_1.compare(a, b);\n        // only for strings\n        var i = collator.compare(a, b);\n        if (i < 0)\n            return -1;\n        if (i > 0)\n            return 1;\n        return 0;\n    };\n}\n","var assertErr = require('assert-err')\n\nmodule.exports = stringReduce\n\n/**\n * reduce a string to a value\n * @param  {string}   string          string to reduce\n * @param  {function} reducerCb    reducer function\n * @param  {*}        initialValue reduce initial value\n * @return {*} result\n */\nfunction stringReduce (string, reducerCallback, initialValue) {\n  if (string.length === 0) {\n    assertErr(initialValue, TypeError, 'Reduce of empty string with no initial value')\n    return initialValue\n  }\n  var initialValuePassed = arguments.length === 3\n  var result\n  var startIndex\n  if (initialValuePassed) {\n    // initial value, initialize reduce state\n    result = initialValue\n    startIndex = 0\n  } else {\n    // no initial value\n    if (string.length === 1) {\n      return string.charAt(0)\n    }\n    // no initial value, initialize reduce state\n    result = string.charAt(0)\n    startIndex = 1\n  }\n  for (var i = startIndex; i < string.length; i++) {\n    result = reducerCallback(result, string.charAt(i), i, string)\n  }\n  return result\n}\n","\"use strict\";\n// Query Evaluation Operators: https://docs.mongodb.com/manual/reference/operator/query-evaluation/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$mod = void 0;\nvar _predicates_1 = require(\"../../_predicates\");\n/**\n * Performs a modulo operation on the value of a field and selects documents with a specified result.\n */\nexports.$mod = _predicates_1.createQueryOperator(_predicates_1.$mod);\n","\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$bucket = void 0;\nvar core_1 = require(\"../../core\");\nvar lazy_1 = require(\"../../lazy\");\nvar util_1 = require(\"../../util\");\n/**\n * Categorizes incoming documents into groups, called buckets, based on a specified expression and bucket boundaries.\n * https://docs.mongodb.com/manual/reference/operator/aggregation/bucket/\n *\n * @param {*} collection\n * @param {*} expr\n * @param {Options} opt Pipeline options\n */\nfunction $bucket(collection, expr, options) {\n    var boundaries = __spreadArrays(expr.boundaries);\n    var defaultKey = expr.default;\n    var lower = boundaries[0]; // inclusive\n    var upper = boundaries[boundaries.length - 1]; // exclusive\n    var outputExpr = expr.output || { count: { $sum: 1 } };\n    util_1.assert(expr.boundaries.length > 2, \"$bucket 'boundaries' expression must have at least 3 elements\");\n    var boundType = util_1.getType(lower);\n    for (var i = 0, len = boundaries.length - 1; i < len; i++) {\n        util_1.assert(boundType === util_1.getType(boundaries[i + 1]), \"$bucket 'boundaries' must all be of the same type\");\n        util_1.assert(boundaries[i] < boundaries[i + 1], \"$bucket 'boundaries' must be sorted in ascending order\");\n    }\n    !util_1.isNil(defaultKey) &&\n        util_1.getType(expr.default) === util_1.getType(lower) &&\n        util_1.assert(expr.default >= upper || expr.default < lower, \"$bucket 'default' expression must be out of boundaries range\");\n    var grouped = {};\n    for (var _i = 0, boundaries_1 = boundaries; _i < boundaries_1.length; _i++) {\n        var k = boundaries_1[_i];\n        grouped[k] = [];\n    }\n    // add default key if provided\n    if (!util_1.isNil(defaultKey))\n        grouped[defaultKey] = [];\n    var iterator = null;\n    return lazy_1.Lazy(function () {\n        if (iterator === null) {\n            collection.each(function (obj) {\n                var key = core_1.computeValue(obj, expr.groupBy, null, options);\n                if (util_1.isNil(key) || key < lower || key >= upper) {\n                    util_1.assert(!util_1.isNil(defaultKey), \"$bucket require a default for out of range values\");\n                    grouped[defaultKey].push(obj);\n                }\n                else {\n                    util_1.assert(key >= lower && key < upper, \"$bucket 'groupBy' expression must resolve to a value in range of boundaries\");\n                    var index = findInsertIndex(boundaries, key);\n                    var boundKey = boundaries[Math.max(0, index - 1)];\n                    grouped[boundKey].push(obj);\n                }\n            });\n            // upper bound is exclusive so we remove it\n            boundaries.pop();\n            if (!util_1.isNil(defaultKey))\n                boundaries.push(defaultKey);\n            iterator = lazy_1.Lazy(boundaries).map(function (key) {\n                var acc = core_1.computeValue(grouped[key], outputExpr, null, options);\n                return util_1.into(acc, { _id: key });\n            });\n        }\n        return iterator.next();\n    });\n}\nexports.$bucket = $bucket;\n/**\n * Find the insert index for the given key in a sorted array.\n *\n * @param {*} sorted The sorted array to search\n * @param {*} item The search key\n */\nfunction findInsertIndex(sorted, item) {\n    // uses binary search\n    var lo = 0;\n    var hi = sorted.length - 1;\n    while (lo <= hi) {\n        var mid = Math.round(lo + (hi - lo) / 2);\n        if (item < sorted[mid]) {\n            hi = mid - 1;\n        }\n        else if (item > sorted[mid]) {\n            lo = mid + 1;\n        }\n        else {\n            return mid;\n        }\n    }\n    return lo;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$addFields = void 0;\nvar core_1 = require(\"../../core\");\nvar util_1 = require(\"../../util\");\n/**\n * Adds new fields to documents.\n * Outputs documents that contain all existing fields from the input documents and newly added fields.\n *\n * @param {Iterator} collection\n * @param {Object} expr\n * @param {Options} options\n */\nfunction $addFields(collection, expr, options) {\n    var newFields = Object.keys(expr);\n    if (newFields.length === 0)\n        return collection;\n    return collection.map(function (obj) {\n        var newObj = util_1.cloneDeep(obj);\n        for (var _i = 0, newFields_1 = newFields; _i < newFields_1.length; _i++) {\n            var field = newFields_1[_i];\n            var newValue = core_1.computeValue(obj, expr[field], null, options);\n            if (newValue !== undefined) {\n                util_1.setValue(newObj, field, newValue);\n            }\n            else {\n                util_1.removeValue(newObj, field);\n            }\n        }\n        return newObj;\n    });\n}\nexports.$addFields = $addFields;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$sortByCount = void 0;\nvar group_1 = require(\"./group\");\nvar sort_1 = require(\"./sort\");\n/**\n * Groups incoming documents based on the value of a specified expression,\n * then computes the count of documents in each distinct group.\n *\n * https://docs.mongodb.com/manual/reference/operator/aggregation/sortByCount/\n *\n * @param  {Array} collection\n * @param  {Object} expr\n * @param  {Object} options\n * @return {*}\n */\nfunction $sortByCount(collection, expr, options) {\n    var newExpr = { count: { $sum: 1 } };\n    newExpr[\"_id\"] = expr;\n    return sort_1.$sort(group_1.$group(collection, newExpr, options), { count: -1 }, options);\n}\nexports.$sortByCount = $sortByCount;\n","var keyToString = require('../key-to-string')\nvar stateToAtKeypath = require('../state-to-at-keypath')\n\nmodule.exports = function keyOfUndefinedErrorMessage (key, state) {\n  var atKeypath = stateToAtKeypath(state)\n  return \"Cannot read property $keyStr of undefined (at keypath '$atKeypath' of '$keypath')\"\n    .replace(/\\$atKeypath/, atKeypath)\n    .replace(/\\$keypath/, state.keypath)\n    .replace(/\\$keyStr/, keyToString(key))\n}\n","'use strict';\n\nvar matchOperatorsRe = /[|\\\\{}()[\\]^$+*?.]/g;\n\nmodule.exports = function (str) {\n\tif (typeof str !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\treturn str.replace(matchOperatorsRe, '\\\\$&');\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$project = void 0;\nvar core_1 = require(\"../../core\");\nvar util_1 = require(\"../../util\");\n/**\n * Reshapes a document stream.\n * $project can rename, add, or remove fields as well as create computed values and sub-documents.\n *\n * @param collection\n * @param expr\n * @param opt\n * @returns {Array}\n */\nfunction $project(collection, expr, options) {\n    if (util_1.isEmpty(expr))\n        return collection;\n    // result collection\n    var expressionKeys = Object.keys(expr);\n    var idOnlyExcluded = false;\n    // validate inclusion and exclusion\n    validateExpression(expr, options);\n    var ID_KEY = options.idKey;\n    if (util_1.inArray(expressionKeys, ID_KEY)) {\n        var id = expr[ID_KEY];\n        if (id === 0 || id === false) {\n            expressionKeys = expressionKeys.filter(util_1.notInArray.bind(null, [ID_KEY]));\n            idOnlyExcluded = expressionKeys.length == 0;\n        }\n    }\n    else {\n        // if not specified the add the ID field\n        expressionKeys.push(ID_KEY);\n    }\n    return collection.map(function (obj) {\n        return processObject(obj, expr, options, expressionKeys, idOnlyExcluded);\n    });\n}\nexports.$project = $project;\n/**\n * Process the expression value for $project operators\n *\n * @param {Object} obj The object to use as options\n * @param {Object} expr The experssion object of $project operator\n * @param {Array} expressionKeys The key in the 'expr' object\n * @param {Boolean} idOnlyExcluded Boolean value indicating whether only the ID key is excluded\n */\nfunction processObject(obj, expr, options, expressionKeys, idOnlyExcluded) {\n    var newObj = {};\n    var foundSlice = false;\n    var foundExclusion = false;\n    var dropKeys = [];\n    if (idOnlyExcluded) {\n        dropKeys.push(options.idKey);\n    }\n    var _loop_1 = function (key) {\n        // final computed value of the key\n        var value = undefined;\n        // expression to associate with key\n        var subExpr = expr[key];\n        if (key !== options.idKey && util_1.inArray([0, false], subExpr)) {\n            foundExclusion = true;\n        }\n        if (key === options.idKey && util_1.isEmpty(subExpr)) {\n            // tiny optimization here to skip over id\n            value = obj[key];\n        }\n        else if (util_1.isString(subExpr)) {\n            value = core_1.computeValue(obj, subExpr, key, options);\n        }\n        else if (util_1.inArray([1, true], subExpr)) {\n            // For direct projections, we use the resolved object value\n        }\n        else if (subExpr instanceof Array) {\n            value = subExpr.map(function (v) {\n                var r = core_1.computeValue(obj, v, null, options);\n                if (util_1.isNil(r))\n                    return null;\n                return r;\n            });\n        }\n        else if (util_1.isObject(subExpr)) {\n            var subExprObj_1 = subExpr;\n            var subExprKeys_1 = Object.keys(subExpr);\n            var operator = subExprKeys_1.length == 1 ? subExprKeys_1[0] : null;\n            // first try a projection operator\n            var call = core_1.getOperator(core_1.OperatorType.PROJECTION, operator);\n            if (call) {\n                // apply the projection operator on the operator expression for the key\n                if (operator === \"$slice\") {\n                    // $slice is handled differently for aggregation and projection operations\n                    if (util_1.ensureArray(subExprObj_1[operator]).every(util_1.isNumber)) {\n                        // $slice for projection operation\n                        value = call(obj, subExprObj_1[operator], key);\n                        foundSlice = true;\n                    }\n                    else {\n                        // $slice for aggregation operation\n                        value = core_1.computeValue(obj, subExprObj_1, key, options);\n                    }\n                }\n                else {\n                    value = call(obj, subExprObj_1[operator], key, options);\n                }\n            }\n            else if (util_1.isOperator(operator)) {\n                // compute if operator key\n                value = core_1.computeValue(obj, subExprObj_1[operator], operator, options);\n            }\n            else if (util_1.has(obj, key)) {\n                // compute the value for the sub expression for the key\n                validateExpression(subExprObj_1, options);\n                var target = obj[key];\n                if (target instanceof Array) {\n                    value = target.map(function (o) {\n                        return processObject(o, subExprObj_1, options, subExprKeys_1, false);\n                    });\n                }\n                else {\n                    target = util_1.isObject(target) ? target : obj;\n                    value = processObject(target, subExprObj_1, options, subExprKeys_1, false);\n                }\n            }\n            else {\n                // compute the value for the sub expression for the key\n                value = core_1.computeValue(obj, subExpr, null, options);\n            }\n        }\n        else {\n            dropKeys.push(key);\n            return \"continue\";\n        }\n        // get value with object graph\n        var objPathGraph = util_1.resolveGraph(obj, key, {\n            preserveMissing: true,\n        });\n        // add the value at the path\n        if (objPathGraph !== undefined) {\n            util_1.merge(newObj, objPathGraph, {\n                flatten: true,\n            });\n        }\n        // if computed add/or remove accordingly\n        if (util_1.notInArray([0, 1, false, true], subExpr)) {\n            if (value === undefined) {\n                util_1.removeValue(newObj, key);\n            }\n            else {\n                util_1.setValue(newObj, key, value);\n            }\n        }\n    };\n    for (var _i = 0, expressionKeys_1 = expressionKeys; _i < expressionKeys_1.length; _i++) {\n        var key = expressionKeys_1[_i];\n        _loop_1(key);\n    }\n    // filter out all missing values preserved to support correct merging\n    util_1.filterMissing(newObj);\n    // For the following cases we include all keys on the object that were not explicitly excluded.\n    //\n    // 1. projection included $slice operator\n    // 2. some fields were explicitly excluded\n    // 3. only the id field was excluded\n    if (foundSlice || foundExclusion || idOnlyExcluded) {\n        newObj = util_1.into({}, obj, newObj);\n        if (dropKeys.length > 0) {\n            newObj = util_1.cloneDeep(newObj);\n            for (var _a = 0, dropKeys_1 = dropKeys; _a < dropKeys_1.length; _a++) {\n                var k = dropKeys_1[_a];\n                util_1.removeValue(newObj, k);\n            }\n        }\n    }\n    return newObj;\n}\n/**\n * Validate inclusion and exclusion values in expression\n *\n * @param {Object} expr The expression given for the projection\n */\nfunction validateExpression(expr, options) {\n    var check = [false, false];\n    for (var _i = 0, _a = Object.entries(expr); _i < _a.length; _i++) {\n        var _b = _a[_i], k = _b[0], v = _b[1];\n        if (k === options.idKey)\n            return;\n        if (v === 0 || v === false) {\n            check[0] = true;\n        }\n        else if (v === 1 || v === true) {\n            check[1] = true;\n        }\n        util_1.assert(!(check[0] && check[1]), \"Projection cannot have a mix of inclusion and exclusion.\");\n    }\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./array\"), exports);\n__exportStar(require(\"./comparison\"), exports);\n__exportStar(require(\"./element\"), exports);\n__exportStar(require(\"./evaluation\"), exports);\n__exportStar(require(\"./logical\"), exports);\n","\"use strict\";\n/**\n * Pipeline Aggregation Stages. https://docs.mongodb.com/manual/reference/operator/aggregation-\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./addFields\"), exports);\n__exportStar(require(\"./bucket\"), exports);\n__exportStar(require(\"./bucketAuto\"), exports);\n__exportStar(require(\"./count\"), exports);\n__exportStar(require(\"./facet\"), exports);\n__exportStar(require(\"./group\"), exports);\n__exportStar(require(\"./limit\"), exports);\n__exportStar(require(\"./lookup\"), exports);\n__exportStar(require(\"./match\"), exports);\n__exportStar(require(\"./out\"), exports);\n__exportStar(require(\"./project\"), exports);\n__exportStar(require(\"./redact\"), exports);\n__exportStar(require(\"./replaceRoot\"), exports);\n__exportStar(require(\"./replaceWith\"), exports);\n__exportStar(require(\"./sample\"), exports);\n__exportStar(require(\"./set\"), exports);\n__exportStar(require(\"./skip\"), exports);\n__exportStar(require(\"./sort\"), exports);\n__exportStar(require(\"./sortByCount\"), exports);\n__exportStar(require(\"./unset\"), exports);\n__exportStar(require(\"./unwind\"), exports);\n","module.exports = function stateToAtKeypath (state) {\n  var offset = state.insideBracketString ? 2 : 1\n  offset = Math.max(offset, 0)\n  var keyEnd = state.keyStart - offset\n  keyEnd = Math.max(keyEnd, 0)\n  return state.keypath.slice(0, keyEnd)\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$group = void 0;\nvar core_1 = require(\"../../core\");\nvar util_1 = require(\"../../util\");\n/**\n * Groups documents together for the purpose of calculating aggregate values based on a collection of documents.\n *\n * @param collection\n * @param expr\n * @param options\n * @returns {Array}\n */\nfunction $group(collection, expr, options) {\n    // lookup key for grouping\n    var ID_KEY = \"_id\";\n    var id = expr[ID_KEY];\n    return collection.transform(function (coll) {\n        var partitions = util_1.groupBy(coll, function (obj) { return core_1.computeValue(obj, id, null, options); }, options === null || options === void 0 ? void 0 : options.hashFunction);\n        // remove the group key\n        expr = util_1.into({}, expr);\n        delete expr[ID_KEY];\n        var i = -1;\n        var size = partitions.keys.length;\n        return function () {\n            if (++i === size)\n                return { done: true };\n            var value = partitions.keys[i];\n            var obj = {};\n            // exclude undefined key value\n            if (value !== undefined) {\n                obj[ID_KEY] = value;\n            }\n            // compute remaining keys in expression\n            for (var _i = 0, _a = Object.entries(expr); _i < _a.length; _i++) {\n                var _b = _a[_i], key = _b[0], val = _b[1];\n                obj[key] = core_1.computeValue(partitions.groups[i], val, key, options);\n            }\n            return { value: obj, done: false };\n        };\n    });\n}\nexports.$group = $group;\n","module.exports = function keyToString (key) {\n  return typeof key === 'string'\n    ? (\"'\" + key + \"'\")\n    : key\n}\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console;\n\n  // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};\n\n","\"use strict\";\n// Projection Operators. https://docs.mongodb.com/manual/reference/operator/projection/\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./elemMatch\"), exports);\n__exportStar(require(\"./slice\"), exports);\n","/**\n * @module {function} 101/exists\n * @type {function}\n */\n\n/**\n * Returns false for null and undefined, true for everything else.\n * @function module:101/exists\n * @param val {*} - value to be existance checked\n * @return {boolean} whether the value exists or not\n */\nmodule.exports = exists;\n\nfunction exists (val) {\n  return val !== undefined && val !== null;\n}","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.redact = exports.computeValue = exports.addOperators = exports.getOperator = exports.useOperators = exports.OperatorType = exports.makeOptions = void 0;\nvar util_1 = require(\"./util\");\n/**\n * Creates an Option from another required keys are initialized\n * @param options Options\n */\nfunction makeOptions(options) {\n    return Object.assign({ idKey: \"_id\" }, options || {});\n}\nexports.makeOptions = makeOptions;\n/**\n * The different groups of operators\n */\nvar OperatorType;\n(function (OperatorType) {\n    OperatorType[\"ACCUMULATOR\"] = \"accumulator\";\n    OperatorType[\"EXPRESSION\"] = \"expression\";\n    OperatorType[\"PIPELINE\"] = \"pipeline\";\n    OperatorType[\"PROJECTION\"] = \"projection\";\n    OperatorType[\"QUERY\"] = \"query\";\n})(OperatorType = exports.OperatorType || (exports.OperatorType = {}));\n// operator definitions\nvar OPERATORS = (_a = {},\n    _a[OperatorType.ACCUMULATOR] = {},\n    _a[OperatorType.EXPRESSION] = {},\n    _a[OperatorType.PIPELINE] = {},\n    _a[OperatorType.PROJECTION] = {},\n    _a[OperatorType.QUERY] = {},\n    _a);\n/**\n * Validates the object collection of operators\n */\nfunction validateOperators(operators) {\n    for (var _i = 0, _a = Object.entries(operators); _i < _a.length; _i++) {\n        var _b = _a[_i], k = _b[0], v = _b[1];\n        util_1.assert(v instanceof Function && util_1.isOperator(k), \"invalid operator specified\");\n    }\n}\n/**\n * Register fully specified operators for the given operator class.\n *\n * @param cls Category of the operator\n * @param operators Name of operator\n */\nfunction useOperators(cls, operators) {\n    validateOperators(operators);\n    util_1.into(OPERATORS[cls], operators);\n}\nexports.useOperators = useOperators;\n/**\n * Returns the operator function or null if it is not found\n * @param cls Category of the operator\n * @param operator Name of the operator\n */\nfunction getOperator(cls, operator) {\n    return util_1.has(OPERATORS[cls], operator) ? OPERATORS[cls][operator] : null;\n}\nexports.getOperator = getOperator;\n/**\n * Add new operators\n *\n * @param cls the operator class to extend\n * @param operatorFn a callback that accepts internal object state and returns an object of new operators.\n */\nfunction addOperators(cls, operatorFn) {\n    var newOperators = operatorFn({ computeValue: computeValue, resolve: util_1.resolve });\n    validateOperators(newOperators);\n    // check for existing operators\n    for (var _i = 0, _a = Object.entries(newOperators); _i < _a.length; _i++) {\n        var _b = _a[_i], op = _b[0], _ = _b[1];\n        var call = getOperator(cls, op);\n        util_1.assert(!call, op + \" already exists for '\" + cls + \"' operators\");\n    }\n    var wrapped = {};\n    switch (cls) {\n        case OperatorType.QUERY:\n            var _loop_1 = function (op, f) {\n                var fn = f.bind(newOperators);\n                wrapped[op] = function (selector, value, options) { return function (obj) {\n                    // value of field must be fully resolved.\n                    var lhs = util_1.resolve(obj, selector, { unwrapArray: true });\n                    return fn(selector, lhs, value, options);\n                }; };\n            };\n            for (var _c = 0, _d = Object.entries(newOperators); _c < _d.length; _c++) {\n                var _e = _d[_c], op = _e[0], f = _e[1];\n                _loop_1(op, f);\n            }\n            break;\n        case OperatorType.PROJECTION:\n            var _loop_2 = function (op, f) {\n                var fn = f.bind(newOperators);\n                wrapped[op] = function (obj, expr, selector, options) {\n                    var lhs = util_1.resolve(obj, selector);\n                    return fn(selector, lhs, expr, options);\n                };\n            };\n            for (var _f = 0, _g = Object.entries(newOperators); _f < _g.length; _f++) {\n                var _h = _g[_f], op = _h[0], f = _h[1];\n                _loop_2(op, f);\n            }\n            break;\n        default:\n            var _loop_3 = function (op, fn) {\n                wrapped[op] = function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    return fn.apply(newOperators, args);\n                };\n            };\n            for (var _j = 0, _k = Object.entries(newOperators); _j < _k.length; _j++) {\n                var _l = _k[_j], op = _l[0], fn = _l[1];\n                _loop_3(op, fn);\n            }\n    }\n    // toss the operator salad :)\n    useOperators(cls, wrapped);\n}\nexports.addOperators = addOperators;\n/* eslint-disable unused-imports/no-unused-vars-ts */\n/**\n * Implementation of system variables\n * @type {Object}\n */\nvar systemVariables = {\n    $$ROOT: function (obj, expr, options) {\n        return options.root;\n    },\n    $$CURRENT: function (obj, expr, options) {\n        return obj;\n    },\n    $$REMOVE: function (obj, expr, options) {\n        return undefined;\n    },\n};\n/**\n * Implementation of $redact variables\n *\n * Each function accepts 3 arguments (obj, expr, opt)\n *\n * @type {Object}\n */\nvar redactVariables = {\n    $$KEEP: function (obj, expr, options) {\n        return obj;\n    },\n    $$PRUNE: function (obj, expr, options) {\n        return undefined;\n    },\n    $$DESCEND: function (obj, expr, options) {\n        // traverse nested documents iff there is a $cond\n        if (!util_1.has(expr, \"$cond\"))\n            return obj;\n        var result;\n        var newObj = util_1.cloneDeep(obj);\n        for (var _i = 0, _a = Object.entries(newObj); _i < _a.length; _i++) {\n            var _b = _a[_i], key = _b[0], current = _b[1];\n            if (util_1.isObjectLike(current)) {\n                if (current instanceof Array) {\n                    var array = [];\n                    for (var _c = 0, current_1 = current; _c < current_1.length; _c++) {\n                        var elem = current_1[_c];\n                        if (util_1.isObject(elem)) {\n                            elem = redact(elem, expr, options);\n                        }\n                        if (!util_1.isNil(elem)) {\n                            array.push(elem);\n                        }\n                    }\n                    result = array;\n                }\n                else {\n                    result = redact(current, expr, options);\n                }\n                if (util_1.isNil(result)) {\n                    delete newObj[key]; // pruned result\n                }\n                else {\n                    newObj[key] = result;\n                }\n            }\n        }\n        return newObj;\n    },\n};\n/**\n * Computes the value of the expression on the object for the given operator\n *\n * @param obj the current object from the collection\n * @param expr the expression for the given field\n * @param operator the operator to resolve the field with\n * @param options {Object} extra options\n * @returns {*}\n */\nfunction computeValue(obj, expr, operator, options) {\n    // ensure valid options exist on first invocation\n    options = options || makeOptions();\n    if (util_1.isOperator(operator)) {\n        // if the field of the object is a valid operator\n        var call = getOperator(OperatorType.EXPRESSION, operator);\n        if (call)\n            return call(obj, expr, options);\n        // we also handle $group accumulator operators\n        call = getOperator(OperatorType.ACCUMULATOR, operator);\n        if (call) {\n            // if object is not an array, first try to compute using the expression\n            if (!(obj instanceof Array)) {\n                obj = computeValue(obj, expr, null, options);\n                expr = null;\n            }\n            // validate that we have an array\n            util_1.assert(obj instanceof Array, \"'\" + operator + \"' target must be an array.\");\n            // we pass a null expression because all values have been resolved\n            return call(obj, expr, options);\n        }\n        // operator was not found\n        throw new Error(\"operator '\" + operator + \"' is not registered\");\n    }\n    // if expr is a variable for an object field\n    // field not used in this case\n    if (util_1.isString(expr) && expr.length > 0 && expr[0] === \"$\") {\n        // we return redact variables as literals\n        if (util_1.has(redactVariables, expr)) {\n            return expr;\n        }\n        // handle selectors with explicit prefix\n        var arr = expr.split(\".\");\n        if (util_1.has(systemVariables, arr[0])) {\n            // set 'root' only the first time it is required to be used for all subsequent calls\n            // if it already available on the options, it will be used\n            obj = systemVariables[arr[0]](obj, null, util_1.into({ root: obj }, options));\n            if (arr.length == 1)\n                return obj;\n            expr = expr.substr(arr[0].length); // '.' prefix will be sliced off below\n        }\n        return util_1.resolve(obj, expr.slice(1));\n    }\n    // check and return value if already in a resolved state\n    if (expr instanceof Array) {\n        return expr.map(function (item) {\n            return computeValue(obj, item, null, options);\n        });\n    }\n    else if (util_1.isObject(expr)) {\n        var result = {};\n        var _loop_4 = function (key, val) {\n            result[key] = computeValue(obj, val, key, options);\n            // must run ONLY one aggregate operator per expression\n            // if so, return result of the computed value\n            if ([OperatorType.EXPRESSION, OperatorType.ACCUMULATOR].some(function (c) {\n                return util_1.has(OPERATORS[c], key);\n            })) {\n                // there should be only one operator\n                util_1.assert(Object.keys(expr).length === 1, \"Invalid aggregation expression '\" + JSON.stringify(expr) + \"'\");\n                return { value: result[key] };\n            }\n        };\n        for (var _i = 0, _a = Object.entries(expr); _i < _a.length; _i++) {\n            var _b = _a[_i], key = _b[0], val = _b[1];\n            var state_1 = _loop_4(key, val);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        return result;\n    }\n    else {\n        return expr;\n    }\n}\nexports.computeValue = computeValue;\n/**\n * Redact an object\n * @param  {Object} obj The object to redact\n * @param  {*} expr The redact expression\n * @param  {*} options  Options for value\n * @return {*} returns the result of the redacted object\n */\nfunction redact(obj, expr, options) {\n    var result = computeValue(obj, expr, null, options);\n    return util_1.has(redactVariables, result)\n        ? redactVariables[result](obj, expr, util_1.into({ root: obj }, options))\n        : result;\n}\nexports.redact = redact;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./exists\"), exports);\n__exportStar(require(\"./type\"), exports);\n","\"use strict\";\n// Query Array Operators: https://docs.mongodb.com/manual/reference/operator/query-array/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$size = void 0;\nvar _predicates_1 = require(\"../../_predicates\");\n/**\n * Selects documents if the array field is a specified size.\n */\nexports.$size = _predicates_1.createQueryOperator(_predicates_1.$size);\n","\"use strict\";\n// $sample operator -  https://docs.mongodb.com/manual/reference/operator/aggregation/sample/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$sample = void 0;\n/**\n * Randomly selects the specified number of documents from its input. The given iterator must have finite values\n *\n * @param  {Iterator} collection\n * @param  {Object} expr\n * @param  {Options} options\n * @return {*}\n */\nfunction $sample(collection, expr, options) {\n    return collection.transform(function (xs) {\n        var len = xs.length;\n        var i = -1;\n        return function () {\n            if (++i === expr.size)\n                return { done: true };\n            var n = Math.floor(Math.random() * len);\n            return { value: xs[n], done: false };\n        };\n    });\n}\nexports.$sample = $sample;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$unset = void 0;\nvar util_1 = require(\"../../util\");\nvar project_1 = require(\"./project\");\n/**\n * Removes/excludes fields from documents.\n *\n * @param collection\n * @param expr\n * @param options\n * @returns {Iterator}\n */\nfunction $unset(collection, expr, options) {\n    expr = util_1.ensureArray(expr);\n    var doc = {};\n    for (var _i = 0, expr_1 = expr; _i < expr_1.length; _i++) {\n        var k = expr_1[_i];\n        doc[k] = 0;\n    }\n    return project_1.$project(collection, doc, options);\n}\nexports.$unset = $unset;\n","\"use strict\";\n// Query Element Operators: https://docs.mongodb.com/manual/reference/operator/query-element/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$exists = void 0;\nvar _predicates_1 = require(\"../../_predicates\");\n/**\n * Matches documents that have the specified field.\n */\nexports.$exists = _predicates_1.createQueryOperator(_predicates_1.$exists);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Iterator = exports.Lazy = void 0;\n/**\n * Returns an iterator\n * @param {*} source An iterable source (Array, Function, Generator, or Iterator)\n */\nfunction Lazy(source) {\n    return source instanceof Iterator ? source : new Iterator(source);\n}\nexports.Lazy = Lazy;\n/**\n * Checks whether the given object is compatible with a generator i.e Object{next:Function}\n * @param {*} o An object\n */\nfunction isGenerator(o) {\n    var _a;\n    return (!!o && typeof o === \"object\" && ((_a = o) === null || _a === void 0 ? void 0 : _a.next) instanceof Function);\n}\nfunction dropItem(array, i) {\n    var rest = array.slice(i + 1);\n    array.splice(i);\n    Array.prototype.push.apply(array, rest);\n}\n// stop iteration error\nvar DONE = new Error();\n// Lazy function actions\nvar Action;\n(function (Action) {\n    Action[Action[\"MAP\"] = 0] = \"MAP\";\n    Action[Action[\"FILTER\"] = 1] = \"FILTER\";\n    Action[Action[\"TAKE\"] = 2] = \"TAKE\";\n    Action[Action[\"DROP\"] = 3] = \"DROP\";\n})(Action || (Action = {}));\nfunction createCallback(nextFn, iteratees, buffer) {\n    var done = false;\n    var index = -1;\n    var bufferIndex = 0; // index for the buffer\n    return function (storeResult) {\n        // special hack to collect all values into buffer\n        try {\n            outer: while (!done) {\n                var o = nextFn();\n                index++;\n                var i = -1;\n                var size = iteratees.length;\n                var innerDone = false;\n                while (++i < size) {\n                    var r = iteratees[i];\n                    switch (r.action) {\n                        case Action.MAP:\n                            o = r.func(o, index);\n                            break;\n                        case Action.FILTER:\n                            if (!r.func(o, index))\n                                continue outer;\n                            break;\n                        case Action.TAKE:\n                            --r.count;\n                            if (!r.count)\n                                innerDone = true;\n                            break;\n                        case Action.DROP:\n                            --r.count;\n                            if (!r.count)\n                                dropItem(iteratees, i);\n                            continue outer;\n                        default:\n                            break outer;\n                    }\n                }\n                done = innerDone;\n                if (storeResult) {\n                    buffer[bufferIndex++] = o;\n                }\n                else {\n                    return { value: o, done: false };\n                }\n            }\n        }\n        catch (e) {\n            if (e !== DONE)\n                throw e;\n        }\n        done = true;\n        return { done: done };\n    };\n}\n/**\n * A lazy collection iterator yields a single value at time upon request\n */\nvar Iterator = /** @class */ (function () {\n    /**\n     * @param {*} source An iterable object or function.\n     *    Array - return one element per cycle\n     *    Object{next:Function} - call next() for the next value (this also handles generator functions)\n     *    Function - call to return the next value\n     * @param {Function} fn An optional transformation function\n     */\n    function Iterator(source) {\n        this.__iteratees = []; // lazy function chain\n        this.__first = false; // flag whether to return a single value\n        this.__done = false;\n        this.__buf = [];\n        var nextVal;\n        if (source instanceof Function) {\n            // make iterable\n            source = { next: source };\n        }\n        if (isGenerator(source)) {\n            var src_1 = source;\n            nextVal = function () {\n                var o = src_1.next();\n                if (o.done)\n                    throw DONE;\n                return o.value;\n            };\n        }\n        else if (source instanceof Array) {\n            var data_1 = source;\n            var size_1 = data_1.length;\n            var index_1 = 0;\n            nextVal = function () {\n                if (index_1 < size_1)\n                    return data_1[index_1++];\n                throw DONE;\n            };\n        }\n        else if (!(source instanceof Function)) {\n            throw new Error(\"Source is not iterable. Must be Array, Function, or Generator\");\n        }\n        // create next function\n        this.__next = createCallback(nextVal, this.__iteratees, this.__buf);\n    }\n    Iterator.prototype._validate = function () {\n        if (this.__first)\n            throw new Error(\"Cannot add iteratee/transform after `first()`\");\n    };\n    /**\n     * Add an iteratee to this lazy sequence\n     * @param {Object} iteratee\n     */\n    Iterator.prototype._push = function (action, value) {\n        this._validate();\n        if (typeof value === \"function\") {\n            this.__iteratees.push({ action: action, func: value });\n        }\n        else if (typeof value === \"number\") {\n            this.__iteratees.push({ action: action, count: value });\n        }\n        else {\n            throw Error(\"invalid value\");\n        }\n        return this;\n    };\n    Iterator.prototype.next = function () {\n        return this.__next();\n    };\n    // Iteratees methods\n    /**\n     * Transform each item in the sequence to a new value\n     * @param {Function} f\n     */\n    Iterator.prototype.map = function (f) {\n        return this._push(Action.MAP, f);\n    };\n    /**\n     * Select only items matching the given predicate\n     * @param {Function} pred\n     */\n    Iterator.prototype.filter = function (predicate) {\n        return this._push(Action.FILTER, predicate);\n    };\n    /**\n     * Take given numbe for values from sequence\n     * @param {Number} n A number greater than 0\n     */\n    Iterator.prototype.take = function (n) {\n        return n > 0 ? this._push(Action.TAKE, n) : this;\n    };\n    /**\n     * Drop a number of values from the sequence\n     * @param {Number} n Number of items to drop greater than 0\n     */\n    Iterator.prototype.drop = function (n) {\n        return n > 0 ? this._push(Action.DROP, n) : this;\n    };\n    // Transformations\n    /**\n     * Returns a new lazy object with results of the transformation\n     * The entire sequence is realized.\n     *\n     * @param {Function} fn Tranform function of type (Array) => (Any)\n     */\n    Iterator.prototype.transform = function (fn) {\n        this._validate();\n        var self = this;\n        var iter;\n        return Lazy(function () {\n            if (!iter) {\n                iter = Lazy(fn(self.value()));\n            }\n            return iter.next();\n        });\n    };\n    /**\n     * Mark this lazy object to return only the first result on `lazy.value()`.\n     * No more iteratees or transformations can be added after this method is called.\n     */\n    Iterator.prototype.first = function () {\n        this.take(1);\n        this.__first = true;\n        return this;\n    };\n    // Terminal methods\n    /**\n     * Returns the fully realized values of the iterators.\n     * The return value will be an array unless `lazy.first()` was used.\n     * The realized values are cached for subsequent calls\n     */\n    Iterator.prototype.value = function () {\n        if (!this.__done) {\n            this.__done = this.__next(true).done;\n        }\n        return this.__first ? this.__buf[0] : this.__buf;\n    };\n    /**\n     * Execute the funcion for each value. Will stop when an execution returns false.\n     * @param {Function} f\n     * @returns {Boolean} false iff `f` return false for AnyVal execution, otherwise true\n     */\n    Iterator.prototype.each = function (f) {\n        for (;;) {\n            var o = this.next();\n            if (o.done)\n                break;\n            if (f(o.value) === false)\n                return false;\n        }\n        return true;\n    };\n    /**\n     * Returns the reduction of sequence according the reducing function\n     *\n     * @param {*} f a reducing function\n     * @param {*} init\n     */\n    Iterator.prototype.reduce = function (f, initialValue) {\n        var o = this.next();\n        var i = 0;\n        if (initialValue === undefined && !o.done) {\n            initialValue = o.value;\n            o = this.next();\n            i++;\n        }\n        while (!o.done) {\n            initialValue = f(initialValue, o.value, i++);\n            o = this.next();\n        }\n        return initialValue;\n    };\n    /**\n     * Returns the number of matched items in the sequence\n     */\n    Iterator.prototype.size = function () {\n        return this.reduce(function (acc, _) { return ++acc; }, 0);\n    };\n    return Iterator;\n}());\nexports.Iterator = Iterator;\nif (typeof Symbol === \"function\") {\n    Iterator.prototype[Symbol.iterator] = function () {\n        /* eslint-disable @typescript-eslint/no-unsafe-return */\n        return this;\n    };\n}\n","\"use strict\";\n// $slice operator. https://docs.mongodb.com/manual/reference/operator/projection/slice/#proj._S_slice\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$slice = void 0;\nvar util_1 = require(\"../../util\");\nvar slice_1 = require(\"../expression/array/slice\");\n/**\n * Limits the number of elements projected from an array. Supports skip and limit slices.\n *\n * @param obj\n * @param field\n * @param expr\n */\nfunction $slice(obj, expr, field, options) {\n    var xs = util_1.resolve(obj, field);\n    var exprAsArray = expr;\n    if (!util_1.isArray(xs))\n        return xs;\n    return slice_1.$slice(obj, expr instanceof Array ? __spreadArrays([xs], exprAsArray) : [xs, expr], options);\n}\nexports.$slice = $slice;\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$redact = void 0;\nvar core_1 = require(\"../../core\");\nvar util_1 = require(\"../../util\");\n/**\n * Restricts the contents of the documents based on information stored in the documents themselves.\n *\n * https://docs.mongodb.com/manual/reference/operator/aggregation/redact/\n */\nfunction $redact(collection, expr, options) {\n    return collection.map(function (obj) {\n        return core_1.redact(util_1.cloneDeep(obj), expr, options);\n    });\n}\nexports.$redact = $redact;\n","\"use strict\";\n// Query Comparison Operators: https://docs.mongodb.com/manual/reference/operator/query-comparison/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$nin = exports.$ne = exports.$lte = exports.$lt = exports.$in = exports.$gte = exports.$gt = exports.$eq = void 0;\nvar _predicates_1 = require(\"../_predicates\");\n/**\n * Matches values that are equal to a specified value.\n */\nexports.$eq = _predicates_1.createQueryOperator(_predicates_1.$eq);\n/**\n * Matches values that are greater than a specified value.\n */\nexports.$gt = _predicates_1.createQueryOperator(_predicates_1.$gt);\n/**\n * \tMatches values that are greater than or equal to a specified value.\n */\nexports.$gte = _predicates_1.createQueryOperator(_predicates_1.$gte);\n/**\n * Matches any of the values that exist in an array specified in the query.\n */\nexports.$in = _predicates_1.createQueryOperator(_predicates_1.$in);\n/**\n * Matches values that are less than the value specified in the query.\n */\nexports.$lt = _predicates_1.createQueryOperator(_predicates_1.$lt);\n/**\n * Matches values that are less than or equal to the value specified in the query.\n */\nexports.$lte = _predicates_1.createQueryOperator(_predicates_1.$lte);\n/**\n * Matches all values that are not equal to the value specified in the query.\n */\nexports.$ne = _predicates_1.createQueryOperator(_predicates_1.$ne);\n/**\n * Matches values that do not exist in an array specified to the query.\n */\nexports.$nin = _predicates_1.createQueryOperator(_predicates_1.$nin);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Loads all Query and Projection operators\n */\n// helpers\nvar core_1 = require(\"../core\");\nvar booleanOperators = require(\"../operators/expression/boolean\");\nvar comparisonOperators = require(\"../operators/expression/comparison\");\nvar pipeline_1 = require(\"../operators/pipeline\");\nvar projectionOperators = require(\"../operators/projection\");\nvar queryOperators = require(\"../operators/query\");\nvar util_1 = require(\"../util\");\n/**\n * Enable basic operators. This includes only query and projection operators\n */\nfunction enableBasicOperators() {\n    core_1.useOperators(core_1.OperatorType.EXPRESSION, util_1.into({}, booleanOperators, comparisonOperators));\n    core_1.useOperators(core_1.OperatorType.PIPELINE, { $project: pipeline_1.$project, $skip: pipeline_1.$skip, $limit: pipeline_1.$limit, $sort: pipeline_1.$sort });\n    core_1.useOperators(core_1.OperatorType.PROJECTION, projectionOperators);\n    core_1.useOperators(core_1.OperatorType.QUERY, queryOperators);\n}\nenableBasicOperators();\n","\"use strict\";\n// Query Element Operators: https://docs.mongodb.com/manual/reference/operator/query-element/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$type = void 0;\nvar _predicates_1 = require(\"../../_predicates\");\n/**\n * Selects documents if a field is of the specified type.\n */\nexports.$type = _predicates_1.createQueryOperator(_predicates_1.$type);\n","\"use strict\";\n// Query Logical Operators: https://docs.mongodb.com/manual/reference/operator/query-logical/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$or = void 0;\nvar query_1 = require(\"../../../query\");\nvar util_1 = require(\"../../../util\");\n/**\n * Joins query clauses with a logical OR returns all documents that match the conditions of either clause.\n *\n * @param selector\n * @param value\n * @returns {Function}\n */\nfunction $or(selector, value, options) {\n    util_1.assert(util_1.isArray(value), \"Invalid expression. $or expects value to be an Array\");\n    var queries = value.map(function (expr) { return new query_1.Query(expr, options); });\n    return function (obj) {\n        for (var i = 0; i < queries.length; i++) {\n            if (queries[i].test(obj)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\nexports.$or = $or;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$match = void 0;\nvar query_1 = require(\"../../query\");\n/**\n * Filters the document stream, and only allows matching documents to pass into the next pipeline stage.\n * $match uses standard MongoDB queries.\n *\n * @param collection\n * @param expr\n * @param options\n * @returns {Array|*}\n */\nfunction $match(collection, expr, options) {\n    var q = new query_1.Query(expr, options);\n    return collection.filter(function (o) { return q.test(o); });\n}\nexports.$match = $match;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Cursor = void 0;\nvar aggregator_1 = require(\"./aggregator\");\nvar lazy_1 = require(\"./lazy\");\nvar util_1 = require(\"./util\");\n/**\n * Cursor to iterate and perform filtering on matched objects.\n * This object must not be used directly. A cursor may be obtaine from calling `find()` on an instance of `Query`.\n *\n * @param collection The input source of the collection\n * @param predicate A predicate function to test documents\n * @param projection A projection criteria\n * @param options Options\n * @constructor\n */\nvar Cursor = /** @class */ (function () {\n    function Cursor(source, predicate, projection, options) {\n        this.__predicateFn = predicate;\n        this.__source = source;\n        this.__projection = projection;\n        this.__operators = [];\n        this.__result = null;\n        this.__stack = [];\n        this.__options = options;\n    }\n    Cursor.prototype._fetch = function () {\n        if (this.__result)\n            return this.__result;\n        // add projection operator\n        if (util_1.isObject(this.__projection))\n            this.__operators.push({ $project: this.__projection });\n        // filter collection\n        this.__result = lazy_1.Lazy(this.__source).filter(this.__predicateFn);\n        if (this.__operators.length > 0) {\n            this.__result = new aggregator_1.Aggregator(this.__operators, this.__options).stream(this.__result);\n        }\n        return this.__result;\n    };\n    /**\n     * Return remaining objects in the cursor as an array. This method exhausts the cursor\n     * @returns {Array}\n     */\n    Cursor.prototype.all = function () {\n        return this._fetch().value();\n    };\n    /**\n     * Returns the number of objects return in the cursor. This method exhausts the cursor\n     * @returns {Number}\n     */\n    Cursor.prototype.count = function () {\n        return this.all().length;\n    };\n    /**\n     * Returns a cursor that begins returning results only after passing or skipping a number of documents.\n     * @param {Number} n the number of results to skip.\n     * @return {Cursor} Returns the cursor, so you can chain this call.\n     */\n    Cursor.prototype.skip = function (n) {\n        this.__operators.push({ $skip: n });\n        return this;\n    };\n    /**\n     * Constrains the size of a cursor's result set.\n     * @param {Number} n the number of results to limit to.\n     * @return {Cursor} Returns the cursor, so you can chain this call.\n     */\n    Cursor.prototype.limit = function (n) {\n        this.__operators.push({ $limit: n });\n        return this;\n    };\n    /**\n     * Returns results ordered according to a sort specification.\n     * @param {Object} modifier an object of key and values specifying the sort order. 1 for ascending and -1 for descending\n     * @return {Cursor} Returns the cursor, so you can chain this call.\n     */\n    Cursor.prototype.sort = function (modifier) {\n        this.__operators.push({ $sort: modifier });\n        return this;\n    };\n    /**\n     * Specifies the collation for the cursor returned by the `mingo.Query.find`\n     * @param {*} spec\n     */\n    Cursor.prototype.collation = function (spec) {\n        util_1.into(this.__options, { collation: spec });\n        return this;\n    };\n    /**\n     * Returns the next document in a cursor.\n     * @returns {Object | Boolean}\n     */\n    Cursor.prototype.next = function () {\n        if (!this.__stack)\n            return; // done\n        if (this.__stack.length > 0)\n            return this.__stack.pop(); // yield value obtains in hasNext()\n        var o = this._fetch().next();\n        if (!o.done)\n            return o.value;\n        this.__stack = null;\n        return;\n    };\n    /**\n     * Returns true if the cursor has documents and can be iterated.\n     * @returns {boolean}\n     */\n    Cursor.prototype.hasNext = function () {\n        if (!this.__stack)\n            return false; // done\n        if (this.__stack.length > 0)\n            return true; // there is a value on stack\n        var o = this._fetch().next();\n        if (!o.done) {\n            this.__stack.push(o.value);\n        }\n        else {\n            this.__stack = null;\n        }\n        return !!this.__stack;\n    };\n    /**\n     * Applies a function to each document in a cursor and collects the return values in an array.\n     * @param callback\n     * @returns {Array}\n     */\n    Cursor.prototype.map = function (callback) {\n        return this._fetch().map(callback).value();\n    };\n    /**\n     * Applies a JavaScript function for every document in a cursor.\n     * @param callback\n     */\n    Cursor.prototype.forEach = function (callback) {\n        this._fetch().each(callback);\n    };\n    return Cursor;\n}());\nexports.Cursor = Cursor;\nif (typeof Symbol === \"function\") {\n    /**\n     * Applies an [ES2015 Iteration protocol][] compatible implementation\n     * [ES2015 Iteration protocol]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols\n     * @returns {Object}\n     */\n    Cursor.prototype[Symbol.iterator] = function () {\n        return this._fetch(); /* eslint-disable-line */\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$replaceWith = void 0;\nvar replaceRoot_1 = require(\"./replaceRoot\");\n/**\n * Alias for $replaceRoot\n */\nexports.$replaceWith = replaceRoot_1.$replaceRoot;\n","\"use strict\";\n// Query Array Operators: https://docs.mongodb.com/manual/reference/operator/query-array/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$all = void 0;\nvar _predicates_1 = require(\"../../_predicates\");\n/**\n * Matches arrays that contain all elements specified in the query.\n */\nexports.$all = _predicates_1.createQueryOperator(_predicates_1.$all);\n","var assert = require('assert')\n\nvar assign = require('object-assign')\nvar esc = require('escape-string-regexp')\n\nvar fileRE = new RegExp('.*' + esc(__filename))\nvar createErrWithProps = function (message, props) {\n  var err = new Error(message)\n  if (props) {\n    assign(err, props)\n  }\n  return err\n}\n\nmodule.exports = assertErr\n\nfunction assertErr (value, Err/*, ...args */) {\n  assert(typeof Err === 'function', '\"Error\" must be a function')\n  if (Err === Error) Err = createErrWithProps\n  var args = Array.prototype.slice.call(arguments, 2)\n  assert(args.length <= 5, 'assertErr does not support more than five Error args')\n  if (!value) {\n    var err = createInstance(Err, args)\n    // remove `assertErr` and `createInstance` from stack\n    if (err.stack) {\n      var stackLines = err.stack\n        .split('\\n')\n        .filter(notMatches(fileRE))\n      err.stack = stackLines.join('\\n')\n    }\n    // throw the error\n    throw err\n  }\n}\n\nfunction createInstance (Class, args) {\n  return (args.length === 0)\n    ? new Class()\n    : (args.length === 1)\n      ? new Class(args[0])\n      : (args.length === 2)\n        ? new Class(args[0], args[1])\n        : (args.length === 3)\n          ? new Class(args[0], args[1], args[2])\n          : (args.length === 4)\n            ? new Class(args[0], args[1], args[2], args[3])\n            : new Class(args[0], args[1], args[2], args[3], args[4])\n}\n\nfunction notMatches (re) {\n  return function (str) {\n    return !re.test(str)\n  }\n}\n","// i just needed a way to create a unique string from keypath split,\n// that would not collide with other keypath split strings.\n// i didnt want a simple join, as that would be more likely to cause collisions\nmodule.exports = function normalizedKeypath (keypathSplit) {\n  return keypathSplit.reduce(function (str, key, i) {\n    str += i + ':' + key + ','\n    return str\n  }, '')\n}\n","\"use strict\";\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;\n\n","'use strict';\n\nvar objectAssign = require('object-assign');\n\n// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n  if (y < x) {\n    return 1;\n  }\n  return 0;\n}\nfunction isBuffer(b) {\n  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {\n    return global.Buffer.isBuffer(b);\n  }\n  return !!(b != null && b._isBuffer);\n}\n\n// based on node assert, original notice:\n// NB: The URL to the CommonJS spec is kept just for tradition.\n//     node-assert has evolved a lot since then, both in API and behavior.\n\n// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n//\n// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n//\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar util = require('util/');\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar pSlice = Array.prototype.slice;\nvar functionsHaveNames = (function () {\n  return function foo() {}.name === 'foo';\n}());\nfunction pToString (obj) {\n  return Object.prototype.toString.call(obj);\n}\nfunction isView(arrbuf) {\n  if (isBuffer(arrbuf)) {\n    return false;\n  }\n  if (typeof global.ArrayBuffer !== 'function') {\n    return false;\n  }\n  if (typeof ArrayBuffer.isView === 'function') {\n    return ArrayBuffer.isView(arrbuf);\n  }\n  if (!arrbuf) {\n    return false;\n  }\n  if (arrbuf instanceof DataView) {\n    return true;\n  }\n  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {\n    return true;\n  }\n  return false;\n}\n// 1. The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\n\n// 2. The AssertionError is defined in assert.\n// new assert.AssertionError({ message: message,\n//                             actual: actual,\n//                             expected: expected })\n\nvar regex = /\\s*function\\s+([^\\(\\s]*)\\s*/;\n// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js\nfunction getName(func) {\n  if (!util.isFunction(func)) {\n    return;\n  }\n  if (functionsHaveNames) {\n    return func.name;\n  }\n  var str = func.toString();\n  var match = str.match(regex);\n  return match && match[1];\n}\nassert.AssertionError = function AssertionError(options) {\n  this.name = 'AssertionError';\n  this.actual = options.actual;\n  this.expected = options.expected;\n  this.operator = options.operator;\n  if (options.message) {\n    this.message = options.message;\n    this.generatedMessage = false;\n  } else {\n    this.message = getMessage(this);\n    this.generatedMessage = true;\n  }\n  var stackStartFunction = options.stackStartFunction || fail;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, stackStartFunction);\n  } else {\n    // non v8 browsers so we can have a stacktrace\n    var err = new Error();\n    if (err.stack) {\n      var out = err.stack;\n\n      // try to strip useless frames\n      var fn_name = getName(stackStartFunction);\n      var idx = out.indexOf('\\n' + fn_name);\n      if (idx >= 0) {\n        // once we have located the function frame\n        // we need to strip out everything before it (and its line)\n        var next_line = out.indexOf('\\n', idx + 1);\n        out = out.substring(next_line + 1);\n      }\n\n      this.stack = out;\n    }\n  }\n};\n\n// assert.AssertionError instanceof Error\nutil.inherits(assert.AssertionError, Error);\n\nfunction truncate(s, n) {\n  if (typeof s === 'string') {\n    return s.length < n ? s : s.slice(0, n);\n  } else {\n    return s;\n  }\n}\nfunction inspect(something) {\n  if (functionsHaveNames || !util.isFunction(something)) {\n    return util.inspect(something);\n  }\n  var rawname = getName(something);\n  var name = rawname ? ': ' + rawname : '';\n  return '[Function' +  name + ']';\n}\nfunction getMessage(self) {\n  return truncate(inspect(self.actual), 128) + ' ' +\n         self.operator + ' ' +\n         truncate(inspect(self.expected), 128);\n}\n\n// At present only the three keys mentioned above are used and\n// understood by the spec. Implementations or sub modules can pass\n// other keys to the AssertionError's constructor - they will be\n// ignored.\n\n// 3. All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided.  All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction fail(actual, expected, message, operator, stackStartFunction) {\n  throw new assert.AssertionError({\n    message: message,\n    actual: actual,\n    expected: expected,\n    operator: operator,\n    stackStartFunction: stackStartFunction\n  });\n}\n\n// EXTENSION! allows for well behaved errors defined elsewhere.\nassert.fail = fail;\n\n// 4. Pure assertion tests whether a value is truthy, as determined\n// by !!guard.\n// assert.ok(guard, message_opt);\n// This statement is equivalent to assert.equal(true, !!guard,\n// message_opt);. To test strictly for the value true, use\n// assert.strictEqual(true, guard, message_opt);.\n\nfunction ok(value, message) {\n  if (!value) fail(value, true, message, '==', assert.ok);\n}\nassert.ok = ok;\n\n// 5. The equality assertion tests shallow, coercive equality with\n// ==.\n// assert.equal(actual, expected, message_opt);\n\nassert.equal = function equal(actual, expected, message) {\n  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n};\n\n// 6. The non-equality assertion tests for whether two objects are not equal\n// with != assert.notEqual(actual, expected, message_opt);\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (actual == expected) {\n    fail(actual, expected, message, '!=', assert.notEqual);\n  }\n};\n\n// 7. The equivalence assertion tests a deep equality relation.\n// assert.deepEqual(actual, expected, message_opt);\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n  }\n};\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);\n  }\n};\n\nfunction _deepEqual(actual, expected, strict, memos) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n  } else if (isBuffer(actual) && isBuffer(expected)) {\n    return compare(actual, expected) === 0;\n\n  // 7.2. If the expected value is a Date object, the actual value is\n  // equivalent if it is also a Date object that refers to the same time.\n  } else if (util.isDate(actual) && util.isDate(expected)) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3 If the expected value is a RegExp object, the actual value is\n  // equivalent if it is also a RegExp object with the same source and\n  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n    return actual.source === expected.source &&\n           actual.global === expected.global &&\n           actual.multiline === expected.multiline &&\n           actual.lastIndex === expected.lastIndex &&\n           actual.ignoreCase === expected.ignoreCase;\n\n  // 7.4. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if ((actual === null || typeof actual !== 'object') &&\n             (expected === null || typeof expected !== 'object')) {\n    return strict ? actual === expected : actual == expected;\n\n  // If both values are instances of typed arrays, wrap their underlying\n  // ArrayBuffers in a Buffer each to increase performance\n  // This optimization requires the arrays to have the same type as checked by\n  // Object.prototype.toString (aka pToString). Never perform binary\n  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their\n  // bit patterns are not identical.\n  } else if (isView(actual) && isView(expected) &&\n             pToString(actual) === pToString(expected) &&\n             !(actual instanceof Float32Array ||\n               actual instanceof Float64Array)) {\n    return compare(new Uint8Array(actual.buffer),\n                   new Uint8Array(expected.buffer)) === 0;\n\n  // 7.5 For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else if (isBuffer(actual) !== isBuffer(expected)) {\n    return false;\n  } else {\n    memos = memos || {actual: [], expected: []};\n\n    var actualIndex = memos.actual.indexOf(actual);\n    if (actualIndex !== -1) {\n      if (actualIndex === memos.expected.indexOf(expected)) {\n        return true;\n      }\n    }\n\n    memos.actual.push(actual);\n    memos.expected.push(expected);\n\n    return objEquiv(actual, expected, strict, memos);\n  }\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b, strict, actualVisitedObjects) {\n  if (a === null || a === undefined || b === null || b === undefined)\n    return false;\n  // if one is a primitive, the other must be same\n  if (util.isPrimitive(a) || util.isPrimitive(b))\n    return a === b;\n  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))\n    return false;\n  var aIsArgs = isArguments(a);\n  var bIsArgs = isArguments(b);\n  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n    return false;\n  if (aIsArgs) {\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return _deepEqual(a, b, strict);\n  }\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  var key, i;\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length !== kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] !== kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))\n      return false;\n  }\n  return true;\n}\n\n// 8. The non-equivalence assertion tests for any deep inequality.\n// assert.notDeepEqual(actual, expected, message_opt);\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);\n  }\n}\n\n\n// 9. The strict equality assertion tests strict equality, as determined by ===.\n// assert.strictEqual(actual, expected, message_opt);\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (actual !== expected) {\n    fail(actual, expected, message, '===', assert.strictEqual);\n  }\n};\n\n// 10. The strict non-equality assertion tests for strict inequality, as\n// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (actual === expected) {\n    fail(actual, expected, message, '!==', assert.notStrictEqual);\n  }\n};\n\nfunction expectedException(actual, expected) {\n  if (!actual || !expected) {\n    return false;\n  }\n\n  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n    return expected.test(actual);\n  }\n\n  try {\n    if (actual instanceof expected) {\n      return true;\n    }\n  } catch (e) {\n    // Ignore.  The instanceof check doesn't work for arrow functions.\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction _tryBlock(block) {\n  var error;\n  try {\n    block();\n  } catch (e) {\n    error = e;\n  }\n  return error;\n}\n\nfunction _throws(shouldThrow, block, expected, message) {\n  var actual;\n\n  if (typeof block !== 'function') {\n    throw new TypeError('\"block\" argument must be a function');\n  }\n\n  if (typeof expected === 'string') {\n    message = expected;\n    expected = null;\n  }\n\n  actual = _tryBlock(block);\n\n  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n            (message ? ' ' + message : '.');\n\n  if (shouldThrow && !actual) {\n    fail(actual, expected, 'Missing expected exception' + message);\n  }\n\n  var userProvidedMessage = typeof message === 'string';\n  var isUnwantedException = !shouldThrow && util.isError(actual);\n  var isUnexpectedException = !shouldThrow && actual && !expected;\n\n  if ((isUnwantedException &&\n      userProvidedMessage &&\n      expectedException(actual, expected)) ||\n      isUnexpectedException) {\n    fail(actual, expected, 'Got unwanted exception' + message);\n  }\n\n  if ((shouldThrow && actual && expected &&\n      !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n    throw actual;\n  }\n}\n\n// 11. Expected to throw an error:\n// assert.throws(block, Error_opt, message_opt);\n\nassert.throws = function(block, /*optional*/error, /*optional*/message) {\n  _throws(true, block, error, message);\n};\n\n// EXTENSION! This is annoying to write outside this module.\nassert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {\n  _throws(false, block, error, message);\n};\n\nassert.ifError = function(err) { if (err) throw err; };\n\n// Expose a strict only variant of assert\nfunction strict(value, message) {\n  if (!value) fail(value, true, message, '==', strict);\n}\nassert.strict = objectAssign(strict, assert, {\n  equal: assert.strictEqual,\n  deepEqual: assert.deepStrictEqual,\n  notEqual: assert.notStrictEqual,\n  notDeepEqual: assert.notDeepStrictEqual\n});\nassert.strict.strict = assert.strict;\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    if (hasOwn.call(obj, key)) keys.push(key);\n  }\n  return keys;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$lookup = void 0;\nvar util_1 = require(\"../../util\");\n/**\n * Performs a left outer join to another collection in the same database to filter in documents from the “joined” collection for processing.\n *\n * @param collection\n * @param expr\n * @param opt\n */\nfunction $lookup(collection, expr, options) {\n    var joinColl = util_1.isString(expr.from)\n        ? options === null || options === void 0 ? void 0 : options.collectionResolver(expr.from) : expr.from;\n    util_1.assert(joinColl instanceof Array, \"'from' field must resolve to an array\");\n    var hash = {};\n    for (var _i = 0, joinColl_1 = joinColl; _i < joinColl_1.length; _i++) {\n        var obj = joinColl_1[_i];\n        var k = util_1.hashCode(util_1.resolve(obj, expr.foreignField), options === null || options === void 0 ? void 0 : options.hashFunction);\n        hash[k] = hash[k] || [];\n        hash[k].push(obj);\n    }\n    return collection.map(function (obj) {\n        var k = util_1.hashCode(util_1.resolve(obj, expr.localField), options === null || options === void 0 ? void 0 : options.hashFunction);\n        var newObj = util_1.into({}, obj);\n        newObj[expr.as] = hash[k] || [];\n        return newObj;\n    });\n}\nexports.$lookup = $lookup;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$count = void 0;\nvar lazy_1 = require(\"../../lazy\");\nvar util_1 = require(\"../../util\");\n/**\n * Returns a document that contains a count of the number of documents input to the stage.\n *\n * @param {Array} collection\n * @param {String} expr\n * @param {Options} options\n * @return {Object}\n */\nfunction $count(collection, expr, options) {\n    util_1.assert(util_1.isString(expr) &&\n        expr.trim() !== \"\" &&\n        expr.indexOf(\".\") === -1 &&\n        expr.trim()[0] !== \"$\", \"Invalid expression value for $count\");\n    return lazy_1.Lazy(function () {\n        var o = {};\n        o[expr] = collection.size();\n        return { value: o, done: false };\n    }).first();\n}\nexports.$count = $count;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Aggregator = void 0;\nvar core_1 = require(\"./core\");\nvar lazy_1 = require(\"./lazy\");\nvar util_1 = require(\"./util\");\n/**\n * Provides functionality for the mongoDB aggregation pipeline\n *\n * @param pipeline an Array of pipeline operators\n * @param options An optional Options to pass the aggregator\n * @constructor\n */\nvar Aggregator = /** @class */ (function () {\n    function Aggregator(pipeline, options) {\n        this.__pipeline = pipeline;\n        this.__options = core_1.makeOptions(options);\n    }\n    /**\n     * Returns an `Lazy` iterator for processing results of pipeline\n     *\n     * @param {*} collection An array or iterator object\n     * @param {Query} query the `Query` object to use as context\n     * @returns {Iterator} an iterator object\n     */\n    Aggregator.prototype.stream = function (collection) {\n        var iterator = lazy_1.Lazy(collection);\n        if (!util_1.isEmpty(this.__pipeline)) {\n            // run aggregation pipeline\n            for (var _i = 0, _a = this.__pipeline; _i < _a.length; _i++) {\n                var operator = _a[_i];\n                var operatorKeys = Object.keys(operator);\n                var op = operatorKeys[0];\n                var call = core_1.getOperator(core_1.OperatorType.PIPELINE, op);\n                util_1.assert(operatorKeys.length === 1 && !!call, \"invalid aggregation operator \" + op);\n                iterator = call(iterator, operator[op], this.__options);\n            }\n        }\n        return iterator;\n    };\n    /**\n     * Return the results of the aggregation as an array.\n     *\n     * @param {*} collection\n     * @param {*} query\n     */\n    Aggregator.prototype.run = function (collection) {\n        return this.stream(collection).value();\n    };\n    return Aggregator;\n}());\nexports.Aggregator = Aggregator;\n","\"use strict\";\n// Boolean Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#boolean-expression-operators\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$or = void 0;\nvar core_1 = require(\"../../../core\");\nvar util_1 = require(\"../../../util\");\n/**\n * Returns true when any of its expressions evaluates to true. Accepts any number of argument expressions.\n *\n * @param obj\n * @param expr\n * @returns {boolean}\n */\nfunction $or(obj, expr, options) {\n    var value = core_1.computeValue(obj, expr, null, options);\n    return util_1.truthy(value) && value.some(util_1.truthy);\n}\nexports.$or = $or;\n","\"use strict\";\n// Query Logical Operators: https://docs.mongodb.com/manual/reference/operator/query-logical/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$not = void 0;\nvar query_1 = require(\"../../../query\");\nvar util_1 = require(\"../../../util\");\n/**\n * Inverts the effect of a query expression and returns documents that do not match the query expression.\n *\n * @param selector\n * @param value\n * @returns {Function}\n */\nfunction $not(selector, value, options) {\n    var criteria = {};\n    criteria[selector] = util_1.normalize(value);\n    var query = new query_1.Query(criteria, options);\n    return function (obj) { return !query.test(obj); };\n}\nexports.$not = $not;\n"],"sourceRoot":""}